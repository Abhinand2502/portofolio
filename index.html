<!doctype html>
<html lang="en" class="dark"> <!-- Default opens in dark mode -->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abhinand — Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root{
      --header-h:64px;
      --primary:#e14a2a;
      --white:#ffffff;
      --black:#0b0b0b;
      --muted:#f3f4f3;
    }

    /* RESET + layout basics */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
      -webkit-font-smoothing:antialiased;
      overscroll-behavior-y:contain;
      background:var(--white);
      color:var(--black);
      /* REMOVE snapping so anchors stop where expected */
      scroll-snap-type: none !important;
    }

    /* Dark / light basics */
    html.dark body{background:var(--black);color:var(--white)}
    /* header - default translucent in dark mode, solid in light to avoid visual artifacts */
    header{
      position:fixed;top:0;left:0;right:0;height:var(--header-h);
      display:flex;align-items:center;justify-content:space-between;
      padding:0 28px;z-index:1200;
      background:rgba(0,0,0,0.55);
      color:var(--white);
      border-bottom:1px solid rgba(255,255,255,0.08);
      backdrop-filter:blur(6px);
    }
    /* when not dark (light mode) make header solid white to remove the blue/peek-through */
    html:not(.dark) header{
      background: #fff !important;
      color: var(--black) !important;
      border-bottom:1px solid rgba(0,0,0,0.06) !important;
    }

    .logo{font-family:'Playfair Display',serif;font-size:28px;color:var(--white)}
    html:not(.dark) .logo{ color: var(--black) !important; }
    nav{display:flex;gap:26px;align-items:center}
    nav a{color:var(--white);text-decoration:none;font-weight:500}
    html:not(.dark) nav a{ color:rgba(0,0,0,0.85) !important; }

    .controls{display:flex;gap:12px;align-items:center}
    .theme-btn{background:none;border:0;color:var(--white);font-size:18px;cursor:pointer}
    html:not(.dark) .theme-btn{ color:var(--black) !important; }

    .menu-btn{display:none;background:none;border:0;color:var(--white);font-size:22px;cursor:pointer}
    html:not(.dark) .menu-btn{ color:var(--black) !important; }

    section{height:100vh;display:block}
    .section-inner{
      height:calc(100vh - var(--header-h));
      padding-top:var(--header-h);
      display:flex;align-items:center;
      overflow:hidden;
      position:relative;
    }

    /* HERO */
    .hero{display:flex;width:100%;max-width:100%;position:relative;overflow:hidden}
    .hero-left{
      flex: 0 1 55%;
      min-width:0;
      padding:56px 8vw;
      display:flex;
      align-items:flex-start;
      z-index:5;
    }
    .content{max-width:700px}
    .kicker{letter-spacing:3px;color:var(--primary);font-weight:700;margin-bottom:18px;font-size:14px}
    h1.headline{font-family:'Playfair Display',serif;font-size:48px;line-height:1.06;margin:0}

    .hero-buttons{margin-top:24px;display:flex;gap:18px}
    .btn{padding:12px 22px;border:2px solid #111;background:transparent;color:#111;font-weight:700;cursor:pointer}
    html:not(.dark) .btn{ border-color: rgba(0,0,0,0.8); color: var(--black); }
    .btn.primary{background:var(--primary);border-color:var(--primary);color:#fff}

    /* Right column */
    .hero-right{
      flex: 0 0 45%;
      max-width:45%;
      min-width:0;
      position:relative;
      display:flex;
      align-items:stretch;
      height:100%;
      overflow:hidden;
      z-index:3;
    }

    .hero-img{
      width:100%;
      height:100%;
      background-position:center center;
      background-size:cover;
      background-repeat:no-repeat;
      display:block;
      flex:1 1 100%;
      position:relative;
      min-height: calc(100vh - var(--header-h));
    }

    /* socials */
    .socials{
      position:absolute;
      right:22px;
      top:50%;
      transform:translateY(-50%);
      display:flex;flex-direction:column;gap:12px;
      z-index:6;
    }
    .socials a{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:6px;background:rgba(255,255,255,0.06);color:#fff;text-decoration:none}
    html:not(.dark) .socials a{ background: rgba(0,0,0,0.06); color: var(--black); }
    .socials a:hover{background:rgba(255,255,255,0.12)}

    /* CV bottom-left (visual bottom-left of page) */
    .cv-wrap{
      position:absolute;
      left:22px;
      bottom:22px;
      z-index:6;
      display:flex;align-items:center;justify-content:center;
    }
    .cv-line{height:1px;background:rgba(255,255,255,0.6);width:120px;margin-right:18px}
    .cv-btn{border:2px solid rgba(255,255,255,0.9);background:transparent;color:#fff;padding:10px 22px}
    html:not(.dark) .cv-btn{ color: var(--black); border-color: rgba(0,0,0,0.6); }

    /* Animations */
    .anim{opacity:0;transform:translateY(14px);transition:opacity .6s ease,transform .6s cubic-bezier(.2,.9,.2,1)}
    .in-view{opacity:1;transform:none}

    /* Sections */
    #about,#works,#contact{display:flex;align-items:center;justify-content:center;background:var(--muted)}
    html.dark #about,html.dark #works,html.dark #contact{background:#1a1a1a}
    .box{max-width:980px;padding:44px}

    /* Responsive: mobile stacks; no right image visible on mobile */
    @media(max-width:980px){
      .hero{flex-direction:column;color:#fff}
      .hero-left{flex:1;padding:36px 5vw;background:rgba(0,0,0,0.45)}
      h1.headline{font-size:34px;color:#fff;text-shadow:0 6px 20px rgba(0,0,0,0.6)}
      .hero-right{display:none} /* ensure right image is hidden on mobile */
      .btn{border-color:rgba(255,255,255,0.9);color:#fff}
      .btn.primary{background:var(--primary)}
      .logo{display:none}
      .menu-btn{display:block}
      nav{display:none}
      .mobile-nav{position:fixed;left:0;right:0;top:var(--header-h);background:#fff;display:none;z-index:1300}
      .mobile-nav.open{display:block}
      .mobile-nav a{display:block;padding:14px 18px;color:#111;text-decoration:none;border-top:1px solid rgba(0,0,0,0.06)}
      html.dark .mobile-nav{background:#111;}
      html.dark .mobile-nav a{color:#fff}
      .section-inner{overflow:visible}
      .hero { height: auto; min-height: calc(100vh - var(--header-h)); }
    }

    @media(min-width:1400px){
      .hero-left{padding:90px 12vw}
      h1.headline{font-size:56px}
    }

    /* fallback gradient when no image found */
    .hero-no-image { background: linear-gradient(120deg,#222 0%, #333 100%); }
  </style>
</head>
<body>
  <header>
    <button class="menu-btn" id="menuBtn"><i class="fa-solid fa-bars"></i></button>
    <div class="logo">Hudson.</div>
    <nav id="mainNav">
      <a href="#intro">Intro</a>
      <a href="#about">About</a>
      <a href="#works">Works</a>
      <a href="#contact">Contact</a>
    </nav>
    <div class="controls">
      <button class="theme-btn" id="themeBtn" aria-label="Toggle theme"><i class="fa-solid fa-sun"></i></button>
    </div>
  </header>

  <div class="mobile-nav" id="mobileNav">
    <a href="#intro">Intro</a>
    <a href="#about">About</a>
    <a href="#works">Works</a>
    <a href="#contact">Contact</a>
  </div>

  <!-- HERO -->
  <section id="intro">
    <div class="section-inner hero" id="heroSection">
      <div class="hero-left">
        <div class="content">
          <div class="kicker anim">HELLO</div>

          <!-- HOME description -->
          <h1 class="headline anim">I'm Jonathan Doe<br>a product designer<br>based in Somewhere.</h1>

          <div class="hero-buttons anim">
            <button class="btn primary">MORE ABOUT ME</button>
            <button class="btn">GET IN TOUCH</button>
          </div>
        </div>
      </div>

      <div class="hero-right" aria-hidden="true">
        <!-- ONLY this right div will contain the image (desktop). No page/background image -->
        <div class="hero-img" id="heroImg" role="img" aria-label="Background image"></div>

        <!-- socials -->
        <div class="socials" aria-hidden="true">
          <a href="#" title="facebook"><i class="fab fa-facebook-f"></i></a>
          <a href="#" title="twitter"><i class="fab fa-twitter"></i></a>
          <a href="#" title="instagram"><i class="fab fa-instagram"></i></a>
          <a href="#" title="github"><i class="fab fa-github"></i></a>
        </div>

        <!-- cv bottom-left visually -->
        <div class="cv-wrap">
          <div class="cv-line" style="display:none"></div>
          <button class="cv-btn">GET MY CV</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about"><div class="section-inner"><div class="box anim"><h2>About</h2><p>Short about text — replace with your own.</p></div></div></section>

  <!-- WORKS -->
  <section id="works"><div class="section-inner"><div class="box anim"><h2>Works</h2><p>Project gallery / cards go here.</p></div></div></section>

  <!-- CONTACT -->
  <section id="contact"><div class="section-inner"><div class="box anim"><h2>Contact</h2><p>Contact details or form.</p></div></div></section>

  <script>
    // Theme toggle with icon change (sun in dark, moon in light)
    const themeBtn = document.getElementById('themeBtn');
    themeBtn.addEventListener('click', ()=>{
      document.documentElement.classList.toggle('dark');
      const isDark = document.documentElement.classList.contains('dark');
      themeBtn.innerHTML = isDark ? '<i class="fa-solid fa-sun"></i>' : '<i class="fa-solid fa-moon"></i>';
    });

    // Mobile menu
    const menuBtn = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    menuBtn.addEventListener('click', ()=> mobileNav.classList.toggle('open'));
    mobileNav.querySelectorAll('a').forEach(a=>a.addEventListener('click', ()=> mobileNav.classList.remove('open')));

    // Intersection animations
    const animItems = document.querySelectorAll('.anim');
    const io = new IntersectionObserver(entries=>{
      entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('in-view'); });
    },{threshold:0.2});
    animItems.forEach(i=>io.observe(i));

    // Smooth anchor scroll (ensures anchor stops at section)
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', ev=>{
        const el=document.querySelector(a.getAttribute('href'));
        if(el){
          ev.preventDefault();
          el.scrollIntoView({behavior:'smooth', block:'start'});
          mobileNav.classList.remove('open');
        }
      });
    });

    // ----- Robust hero image loader -----
    // Only sets the right-column .hero-img (desktop). It DOES NOT set a background
    // on the entire heroSection, so you'll have just one image — the right one.
    (function(){
      const candidatePaths = [
        'images/bg.jpg',
        'assets/bg.jpg',
        'images/bg.jpeg',
        'assets/bg.jpeg',
        'images/bg.png',
        'assets/bg.png'
      ];

      const heroDiv = document.getElementById('heroImg');

      function testImage(path){
        return new Promise((resolve, reject)=>{
          const img = new Image();
          img.onload = ()=> resolve(path);
          img.onerror = ()=> reject(path);
          img.src = path + '?v=' + Date.now();
        });
      }

      (async function tryPaths(){
        for(const p of candidatePaths){
          try{
            const ok = await testImage(p);
            // ONLY set the right column image
            heroDiv.style.backgroundImage = `url("${ok}")`;
            heroDiv.classList.remove('hero-no-image');
            console.log('Hero right-column image loaded from:', ok);
            return;
          } catch(e){
            // try next
          }
        }
        // none loaded -> show placeholder gradient in the right column
        heroDiv.style.backgroundImage = 'none';
        heroDiv.classList.add('hero-no-image');
        console.warn('Hero image not found. Tried:', candidatePaths.join(', '));
      })();
    })();
  </script>
</body>
</html>
