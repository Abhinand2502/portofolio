<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abhinand â€” Portfolio (Demo)</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --header-h:64px;
      --bg: #070707;
      --panel: rgba(255,255,255,0.02);
      --text: #e9eef8;
      --muted: #9aa6b3;
      --accent: #1e7cff;
      --neon-c1: #33f6ff;
      --neon-c2: #7c4dff;
      --neon-c3: #ff66d0;
      --glass: rgba(255,255,255,0.03);
      --glass-strong: rgba(255,255,255,0.06);
      --header-bg: rgba(0,0,0,0.55);
      --header-text: #dff1ff;
      --shadow-glow: 0 12px 40px rgba(124,77,255,0.08), 0 8px 28px rgba(51,246,255,0.06);
    }
    body.light{
      --bg: #fafafa;
      --panel: rgba(0,0,0,0.03);
      --text: #071018;
      --muted: #4a5568;
      --accent: #2563eb;
      --glass: rgba(0,0,0,0.03);
      --glass-strong: rgba(0,0,0,0.06);
      --header-bg: rgba(255,255,255,0.6);
      --header-text: #071018;
      --shadow-glow: 0 10px 30px rgba(124,77,255,0.04), 0 6px 20px rgba(51,246,255,0.03);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(1200px 400px at 90% 20%, rgba(124,77,255,0.06), transparent 10%),
                  linear-gradient(180deg, var(--bg), #000 60%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding-top: var(--header-h);
      transition: background .35s ease, color .25s ease;
      min-height:100vh;
      overflow-y: auto;
      scroll-behavior: smooth;
      -webkit-font-smoothing:antialiased;
    }
    a{color:inherit;text-decoration:none}

    /* center wrapper */
    .wrap{
      max-width:1180px;
      margin: 28px auto;
      padding: 18px;
    }

    /* Header */
    .site-header{
      position:fixed;
      left:0; right:0;
      top:0;
      height:var(--header-h);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:1200;
      transition: background .28s ease, color .25s ease, backdrop-filter .28s ease;
      background: var(--header-bg);
      backdrop-filter: blur(6px);
      box-shadow: 0 1px 0 rgba(0,0,0,0.35) inset;
    }
    .header-inner{
      width:100%;
      max-width:1180px;
      display:flex;
      align-items:center;
      gap:12px;
      padding:0 18px;
    }
    .brand{ display:flex; align-items:center; gap:12px; margin-right:auto; }
    .logo-pill{
      padding:8px 12px;
      border-radius:10px;
      background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(255,255,255,0.02));
      color: var(--header-text);
      font-weight:600;
      box-shadow: 0 6px 18px rgba(0,0,0,0.45);
      font-family: "Playfair Display", serif;
      font-size:16px;
    }

    nav.header-nav{
      display:flex;
      gap:28px;
      align-items:center;
      margin:auto;
    }
    nav.header-nav a{
      color:var(--header-text);
      font-weight:700;
      letter-spacing:0.6px;
      padding:6px 0;
      position:relative;
    }
    nav.header-nav a.active,
    nav.header-nav a:hover{ color:var(--accent) }
    nav.header-nav a.active::after{
      content:"";
      position:absolute;
      left:0; right:0;
      height:3px;
      background: linear-gradient(90deg,var(--accent),var(--neon-c2));
      bottom:-10px;
      border-radius:6px;
      box-shadow: 0 6px 16px rgba(30,124,255,0.18);
    }

    .header-actions{ margin-left:auto; display:flex; align-items:center; gap:10px; }

    .mode-toggle, .menu-toggle{
      width:44px;height:44px;
      display:inline-grid;
      place-items:center;
      border-radius:10px;
      background: linear-gradient(180deg, var(--glass-strong), var(--glass));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: var(--shadow-glow);
      cursor:pointer;
      color:var(--header-text);
      backdrop-filter: blur(4px);
    }

    /* Mobile menu overlay */
    .mobile-nav {
      position:fixed;
      inset: var(--header-h) 0 0 0;
      background: linear-gradient(180deg, rgba(0,0,0,0.7), rgba(0,0,0,0.85));
      display:none;
      z-index:1100;
      padding:28px;
      backdrop-filter: blur(6px);
    }
    .mobile-nav.open{ display:block }
    .mobile-nav a{ display:block; padding:14px 0; font-size:20px; color:var(--text); font-weight:700 }

    /* Hero grid */
    .hero{
      display:grid;
      grid-template-columns: 1fr 520px;
      gap:48px;
      align-items:center;
      margin-top:18px;
      padding-bottom:60px;
    }

    .hero-left{ max-width:720px; padding-left:20px; }
    .eyebrow{ color:var(--accent); font-weight:700; letter-spacing:2px; font-size:14px; margin-bottom:14px; }

    h1{
      margin:0 0 20px 0;
      font-family: "Playfair Display", serif;
      font-weight:900;
      font-size:64px;
      line-height:0.98;
      letter-spacing: -1px;
      color:var(--text);
      position:relative;
      display:inline-block;
    }
    h1 .underline{ display:inline-block; padding-right:8px; border-bottom:3px solid var(--accent); margin-right:8px; }
    h1 .slash{ color:var(--muted); font-weight:700; margin-left:6px; }

    p.lead{ color:var(--muted); font-size:16px; max-width:640px; margin-top:18px; line-height:1.7; }

    .cta{ margin-top:26px; display:flex; gap:14px; align-items:center; flex-wrap:wrap; }
    .btn{
      padding:12px 20px; border-radius:10px; font-weight:700; cursor:pointer; border:0;
      transition:transform .12s ease, box-shadow .12s ease; box-shadow: 0 8px 24px rgba(2,6,23,0.35);
    }
    .btn-primary{
      background: linear-gradient(180deg,var(--accent), #2a7bff);
      color:white; text-transform:uppercase; letter-spacing:1px; box-shadow: 0 10px 40px rgba(30,124,255,0.18);
    }
    .btn-outline{
      background:transparent; color:var(--text);
      border:2px solid;
      border-image: linear-gradient(90deg,var(--neon-c1),var(--neon-c2),var(--neon-c3)) 1;
      padding:10px 18px; border-radius:12px; font-weight:700; text-transform:uppercase;
    }
    .btn:hover{ transform:translateY(-3px) }

    /* neon frame (thinner neon line) */
    .neon-frame{
      position:relative;
      border-radius:26px;
      padding:8px;
      background:
        linear-gradient(180deg, rgba(0,0,0,0.72), rgba(0,0,0,0.55)) padding-box,
        linear-gradient(90deg, var(--neon-c1), var(--neon-c2), var(--neon-c3)) border-box;
      border:4px solid transparent; /* thin vibrant border */
      box-shadow: var(--shadow-glow);
      display:flex; justify-content:center; align-items:center; overflow:visible;
    }
    .portrait{
      width:100%; border-radius:16px; overflow:hidden; position:relative; background: rgba(0,0,0,0.36);
      border-radius:16px;
    }

    /* carousel slides inside portrait */
    .slides{
      width:100%; height:420px; position:relative; overflow:hidden; border-radius:12px;
      display:block;
    }
    .slide{
      position:absolute; inset:0; display:block; opacity:0; transform:scale(1.03);
      transition:opacity .6s ease, transform .6s ease;
    }
    .slide img{ width:100%; height:100%; object-fit:cover; display:block; }

    .slide.active{ opacity:1; transform:scale(1); z-index:2; }

    /* socials above image */
    .socials{
      position:absolute; top:-28px; left:50%; transform:translateX(-50%);
      gap:18px; display:flex; z-index:20; pointer-events:auto;
    }
    .social{
      width:64px;height:64px;border-radius:12px;display:grid;place-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.25));
      border: 4px solid rgba(0,0,0,0.35);
      position:relative; cursor:pointer;
      box-shadow: 0 8px 30px rgba(0,0,0,0.55);
    }
    .social::before{
      content:""; position:absolute; inset:-6px; border-radius:14px;
      background: linear-gradient(90deg,var(--neon-c1),var(--neon-c2));
      z-index:-1; filter:blur(8px) saturate(140%); opacity:0.9;
    }
    .social .inner{ width:44px;height:44px;border-radius:8px; display:grid; place-items:center; background:linear-gradient(180deg, rgba(0,0,0,0.85), rgba(0,0,0,0.7)); }
    .social svg{ width:22px;height:22px; fill:white; opacity:0.95; }

    /* Sparkle */
    .sparkle{ position:fixed; right:18px; bottom:36px; width:56px;height:56px; z-index:10; pointer-events:none; opacity:0.8; filter:blur(0.2px); }

    /* Responsive - mobile */
    @media (max-width:900px){
      .wrap{ padding:18px; margin-top:8px }
      .hero{ grid-template-columns:1fr; gap:24px; padding-bottom:40px; }
      .hero-left{ text-align:center; padding:0 8px }
      h1{ font-size:48px; display:block; }
      .slides{ height:360px }
      nav.header-nav{ display:none }
      .menu-toggle{ display:inline-grid }
      .header-actions{ gap:12px }
      .logo-pill{ font-size:15px }
      .socials{ position:relative; top:auto; transform:none; left:auto; margin: 0 auto -12px;}
    }
    @media (max-width:420px){
      h1{ font-size:40px; line-height:1 }
      .slides{ height:320px }
      .social{ width:56px;height:56px } .social .inner{ width:40px;height:40px }
    }

    /* Sections for scroll-snapping demo */
    .sections {
      margin-top:18px;
      scroll-snap-type: y mandatory;
      overflow:visible;
    }
    section.demo {
      min-height:56vh;
      padding:32px 8px;
      display:flex;
      align-items:center;
      justify-content:center;
      scroll-snap-align: start;
      gap:18px;
    }
    .demo-card{
      width:100%; max-width:1000px; display:flex; gap:18px; align-items:center; justify-content:space-between;
    }
    .card-img{ width:48%; border-radius:14px; overflow:hidden; box-shadow: 0 8px 30px rgba(0,0,0,0.4); }
    .card-img img{ width:100%; height:300px; object-fit:cover; display:block; }
    .card-body{ width:48%; color:var(--text) }
    .muted{ color:var(--muted) }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header" role="banner" aria-label="Site header">
    <div class="header-inner">
      <div class="brand">
        <div class="logo-pill" aria-hidden="true">Abhinand</div>
      </div>

      <nav class="header-nav" aria-label="Primary navigation">
        <a href="#home" class="nav-link active">HOME</a>
        <a href="#about" class="nav-link">ABOUT</a>
        <a href="#projects" class="nav-link">PROJECTS</a>
        <a href="#contact" class="nav-link">CONTACT</a>
      </nav>

      <div class="header-actions">
        <button class="menu-toggle" id="menuToggle" title="Menu" aria-label="Open menu" aria-expanded="false" style="display:none">
          <!-- animated hamburger -->
          <svg id="hamburger" width="26" height="26" viewBox="0 0 24 24" aria-hidden="true">
            <path id="h1" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" d="M3 6h18"></path>
            <path id="h2" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" d="M3 12h18"></path>
            <path id="h3" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" d="M3 18h18"></path>
          </svg>
        </button>

        <button class="mode-toggle" id="modeToggle" title="Toggle theme" aria-label="Toggle theme">
          <svg id="modeIcon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor" d="M21.64 13.29A9 9 0 1 1 10.71 2.36 7 7 0 0 0 21.64 13.29z"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- mobile overlay nav -->
  <div id="mobileNav" class="mobile-nav" aria-hidden="true">
    <a href="#home" class="mobile-link">Home</a>
    <a href="#about" class="mobile-link">About</a>
    <a href="#projects" class="mobile-link">Projects</a>
    <a href="#contact" class="mobile-link">Contact</a>
  </div>

  <main class="wrap" id="home" role="main">
    <section class="hero" aria-labelledby="hero-title">
      <!-- LEFT -->
      <div class="hero-left">
        <div class="eyebrow">HELLO</div>
        <h1 id="hero-title" aria-hidden="false">
          <span class="underline">I'm Abhinand</span>
          <span class="slash">Babu\</span>
        </h1>

        <p class="lead muted">
          B.Tech Computer Science Engineer with a strong foundation in software development and web technologies.
        </p>

        <div class="cta" role="group" aria-label="Call to action buttons">
          <button class="btn btn-primary" onclick="alert('More about me â€” demo')">MORE ABOUT ME</button>
          <button class="btn btn-outline" onclick="alert('Get in touch â€” demo')">GET IN TOUCH</button>
        </div>
      </div>

      <!-- RIGHT: neon framed portrait with socials + carousel -->
      <div class="neon-frame" aria-hidden="false" role="region" aria-label="portrait and socials">
        <div class="socials" role="list" aria-label="Social links">
          <a class="social" role="listitem" href="#" aria-label="Email">
            <div class="inner">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M2 6.5A2.5 2.5 0 0 1 4.5 4h15A2.5 2.5 0 0 1 22 6.5v11A2.5 2.5 0 0 1 19.5 20h-15A2.5 2.5 0 0 1 2 17.5v-11zM4.5 6L12 11l7.5-5" fill="none" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </a>

          <a class="social" role="listitem" href="#" aria-label="Github">
            <div class="inner">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2a10 10 0 0 0-3.16 19.49c.5.09.68-.22.68-.49v-1.71c-2.78.6-3.37-1.34-3.37-1.34-.45-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.61.07-.61 1 .07 1.53 1.03 1.53 1.03.9 1.53 2.36 1.09 2.94.83.09-.65.35-1.09.64-1.34-2.22-.25-4.56-1.11-4.56-4.95 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.28.1-2.66 0 0 .84-.27 2.75 1.02A9.56 9.56 0 0 1 12 6.8c.85.004 1.71.115 2.51.34 1.9-1.29 2.74-1.02 2.74-1.02.56 1.38.21 2.41.1 2.66.64.7 1.03 1.59 1.03 2.68 0 3.85-2.34 4.7-4.57 4.95.36.32.68.94.68 1.9v2.81c0 .27.18.59.69.49A10 10 0 0 0 12 2z" fill="#fff"/></svg>
            </div>
          </a>

          <a class="social" role="listitem" href="#" aria-label="LinkedIn">
            <div class="inner">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.94 6.6A1.88 1.88 0 1 1 5 4.7a1.88 1.88 0 0 1 1.94 1.9zM4.75 21h4.38V9.75H4.75V21zM9.88 9.75h4.2v1.52h.06c.59-1.11 2.02-2.28 4.17-2.28 4.46 0 5.28 2.94 5.28 6.77V21h-4.38v-5.09c0-1.21 0-2.76-1.68-2.76-1.69 0-1.95 1.31-1.95 2.67V21H9.88V9.75z" fill="#fff"/></svg>
            </div>
          </a>

          <a class="social" role="listitem" href="#" aria-label="Instagram">
            <div class="inner">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 6a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 8zm4.5-.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z" fill="#fff"/></svg>
            </div>
          </a>
        </div>

        <div class="portrait" id="portrait">
          <div class="slides" id="slides" aria-live="polite">
            <!-- Duplicate demo slides using your assets/bg.jpg â€” replace with distinct images if you have them -->
            <div class="slide active"><img src="assets/bg.jpg" alt="portrait slide 1"></div>
            <div class="slide"><img src="assets/bg.jpg" alt="portrait slide 2"></div>
            <div class="slide"><img src="assets/bg.jpg" alt="portrait slide 3"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Additional demo sections (scroll snapping and smooth stop) -->
    <div class="sections" id="sections">
      <section id="about" class="demo" aria-labelledby="about-title">
        <div class="demo-card">
          <div class="card-img"><img src="assets/bg.jpg" alt="demo image about"></div>
          <div class="card-body">
            <h3 id="about-title">About â€” Demo Section</h3>
            <p class="muted">This is a scroll-snap demo section. Use full-width scroll to see how sections stop cleanly.</p>
            <p>Replace content with your real about copy. The carousel to the right pauses when this portrait isn't visible to improve performance.</p>
          </div>
        </div>
      </section>

      <section id="projects" class="demo" aria-labelledby="projects-title">
        <div class="demo-card">
          <div class="card-body">
            <h3 id="projects-title">Projects â€” Demo Section</h3>
            <p class="muted">Project cards, screenshots, and links live here.</p>
            <p>Replace the placeholders with project screenshots. Scroll stops at each section for a clean feel.</p>
          </div>
          <div class="card-img"><img src="assets/bg.jpg" alt="demo image projects"></div>
        </div>
      </section>

      <section id="contact" class="demo" aria-labelledby="contact-title">
        <div class="demo-card">
          <div class="card-img"><img src="assets/bg.jpg" alt="demo image contact"></div>
          <div class="card-body">
            <h3 id="contact-title">Contact â€” Demo Section</h3>
            <p class="muted">Email, links, contact form or socials.</p>
            <p>Use "Get in Touch" to open a real contact modal or navigate to a contact page.</p>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- sparkle -->
  <svg class="sparkle" viewBox="0 0 100 100" aria-hidden="true">
    <defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#fff"/><stop offset="1" stop-color="#a78bfa"/></linearGradient></defs>
    <g transform="translate(50,50)"><path d="M0 -36 L6 -6 36 0 6 6 0 36 -6 6 -36 0 -6 -6 Z" fill="url(#g)" opacity="0.14"/><circle r="4" fill="#fff" opacity="0.12" /></g>
  </svg>

  <script>
    // -------------------
    // Theme toggle with persistence
    // -------------------
    const body = document.body;
    const modeToggle = document.getElementById('modeToggle');
    const modeIcon = document.getElementById('modeIcon');

    function applyMode(mode){
      if(mode === 'light') body.classList.add('light');
      else body.classList.remove('light');

      // icon
      modeIcon.innerHTML = body.classList.contains('light')
        ? '<path fill="currentColor" d="M6.76 4.84l-1.8-1.79L3.17 4.85l1.79 1.79 1.8-1.8zM1 13h3v-2H1v2zm10 9h2v-3h-2v3zm7.24-1.16l1.8 1.8 1.79-1.8-1.8-1.79-1.79 1.79zM20 11v2h3v-2h-3zM4.22 19.78l1.79-1.79-1.8-1.8-1.79 1.8 1.8 1.79zM12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14z" />'
        : '<path fill="currentColor" d="M21.64 13.29A9 9 0 1 1 10.71 2.36 7 7 0 0 0 21.64 13.29z"/>';
    }

    // init
    const storedMode = localStorage.getItem('site-mode') || 'dark';
    applyMode(storedMode);

    modeToggle.addEventListener('click', ()=>{
      const mode = body.classList.contains('light') ? 'dark' : 'light';
      applyMode(mode);
      localStorage.setItem('site-mode', mode);
    });

    // -------------------
    // Mobile menu (hamburger) with animation
    // -------------------
    const menuToggle = document.getElementById('menuToggle');
    const mobileNav = document.getElementById('mobileNav');
    const hamburgerPaths = {
      h1: document.getElementById('h1'),
      h2: document.getElementById('h2'),
      h3: document.getElementById('h3')
    };

    function setHamburgerOpen(open){
      if(open){
        // animate to X
        hamburgerPaths.h1.setAttribute('d','M4 4 L20 20');
        hamburgerPaths.h2.setAttribute('d','M12 12 L12 12');
        hamburgerPaths.h3.setAttribute('d','M20 4 L4 20');
        menuToggle.setAttribute('aria-expanded','true');
        mobileNav.classList.add('open');
        mobileNav.setAttribute('aria-hidden','false');
      } else {
        hamburgerPaths.h1.setAttribute('d','M3 6h18');
        hamburgerPaths.h2.setAttribute('d','M3 12h18');
        hamburgerPaths.h3.setAttribute('d','M3 18h18');
        menuToggle.setAttribute('aria-expanded','false');
        mobileNav.classList.remove('open');
        mobileNav.setAttribute('aria-hidden','true');
      }
    }

    let menuOpen = false;
    menuToggle.addEventListener('click', ()=>{
      menuOpen = !menuOpen;
      setHamburgerOpen(menuOpen);
    });

    // show menu-toggle on small screens
    function updateMenuVisibility(){
      const w = window.innerWidth;
      if(w <= 900) { menuToggle.style.display = 'inline-grid'; }
      else { menuToggle.style.display = 'none'; setHamburgerOpen(false); menuOpen = false; mobileNav.classList.remove('open'); }
    }
    window.addEventListener('resize', updateMenuVisibility);
    updateMenuVisibility();

    // mobile nav links
    document.querySelectorAll('.mobile-link').forEach(a=>{
      a.addEventListener('click', (e)=>{
        const href = a.getAttribute('href');
        setHamburgerOpen(false);
        menuOpen = false;
        // smooth scroll after closing
        setTimeout(()=> {
          const target = document.querySelector(href);
          if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
        }, 200);
      });
    });

    // header nav smooth links + active state
    document.querySelectorAll('.nav-link').forEach(a=>{
      a.addEventListener('click', (ev)=>{
        ev.preventDefault();
        const href = a.getAttribute('href');
        document.querySelectorAll('.nav-link').forEach(x=>x.classList.remove('active'));
        a.classList.add('active');
        const target = document.querySelector(href);
        if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
      });
    });

    // -------------------
    // Portrait slideshow (auto-rotate, pause on hover & when out of view)
    // -------------------
    const slides = Array.from(document.querySelectorAll('.slide'));
    let slideIndex = 0;
    let slideInterval = null;
    let slidePaused = false;

    function showSlide(i){
      slides.forEach((s, idx)=> s.classList.toggle('active', idx === i));
    }
    function nextSlide(){
      slideIndex = (slideIndex + 1) % slides.length;
      showSlide(slideIndex);
    }
    function startSlides(){
      if(slideInterval) clearInterval(slideInterval);
      slideInterval = setInterval(()=> {
        if(!slidePaused) nextSlide();
      }, 3000);
    }
    function stopSlides(){
      if(slideInterval) { clearInterval(slideInterval); slideInterval = null; }
    }

    // pause on hover
    const portrait = document.getElementById('portrait');
    portrait.addEventListener('mouseenter', ()=> slidePaused = true);
    portrait.addEventListener('mouseleave', ()=> slidePaused = false);

    // pause when portrait not visible (IntersectionObserver)
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(!en.isIntersecting) { slidePaused = true; }
        else { slidePaused = false; }
      });
    }, { threshold: 0.25 });
    io.observe(portrait);

    // also pause when page hidden (tab change)
    document.addEventListener('visibilitychange', ()=> {
      if(document.hidden) slidePaused = true;
      else slidePaused = false;
    });

    startSlides();

    // -------------------
    // Keyboard 't' toggle for quick theme (optional)
    // -------------------
    window.addEventListener('keydown', (e)=>{
      if(e.key === 't' || e.key === 'T'){
        modeToggle.click();
      }
    });

    // -------------------
    // Focus the right nav link while scrolling (simple)
    // -------------------
    const sectionEls = [...document.querySelectorAll('#sections .demo')];
    const navLinks = [...document.querySelectorAll('.nav-link')];

    const sectionObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          const id = entry.target.id;
          navLinks.forEach(n=> n.classList.toggle('active', n.getAttribute('href') === `#${id}`));
        }
      });
    }, { threshold: 0.45 });

    sectionEls.forEach(s => sectionObserver.observe(s));
  </script>
</body>
</html>
