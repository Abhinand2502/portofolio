<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abhinand — Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* =====================
       Theme variables
       ===================== */
    :root{
      --header-h:64px;
      --primary: #2a33e1;
      --accent:#2563eb; /* blue accent for active nav & socials */
      --bg:#ffffff;
      --panel:#f5f7fa;
      --muted:#f3f4f6;
      --text:#0b0b0b;
      --glass: rgba(0,0,0,0.06);
      --glass-strong: rgba(0,0,0,0.08);
      --card-shadow: 0 8px 30px rgba(16,24,40,0.06);
      --neon: rgba(225,74,42,0.95);
    }
    html[data-theme="dark"]{
      --bg:#0b0b0b;
      --panel:#0f0f12;
      --muted:#0f0f12;
      --text:#f7f7f8;
      --glass: rgba(255,255,255,0.04);
      --glass-strong: rgba(255,255,255,0.06);
      --card-shadow: 0 10px 40px rgba(0,0,0,0.6);
      --neon: rgba(42, 124, 225, 0.95);
    }

    /* reset */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0}
    body{font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:var(--bg);color:var(--text);line-height:1.45;-webkit-font-smoothing:antialiased}

    /* allow native smooth behaviour as a graceful fallback for anchors */
    html { scroll-behavior: smooth; }

    section{min-height:100vh}

    /* header */
    header{position:fixed;top:0;left:0;right:0;height:var(--header-h);display:flex;align-items:center;justify-content:space-between;padding:0 22px;z-index:1200;background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.55));backdrop-filter:blur(6px);box-shadow:var(--card-shadow)}
    html[data-theme="dark"] header{background:linear-gradient(180deg, rgba(8,8,8,0.6), rgba(8,8,8,0.45));}

    /* improved, theme-aware logo styling (no JS changes to dark/light) */
    .logo{
      font-family:'Playfair Display',serif;
      font-size:20px;
      color:var(--text);
      padding:8px 14px;
      border-radius:14px;
      background: transparent;
      transition: background .18s ease, color .18s ease, box-shadow .18s ease, transform .12s ease;
      display:inline-block;
      line-height:1;
    }
    /* light-mode logo look */
    :root .logo{
      background: rgba(255,255,255,0.9);
      box-shadow: 0 10px 30px rgba(16,24,40,0.06);
      color: var(--text);
      transform: translateY(0);
    }
    /* dark-mode logo look (uses your existing vars so it remains consistent) */
    html[data-theme="dark"] .logo{
      background: rgba(255,255,255,0.03);
      box-shadow: 0 8px 28px rgba(0,0,0,0.6);
      color: var(--text);
      transform: translateY(0);
    }
    .logo:active{ transform: translateY(1px); }

    nav{display:flex;gap:16px;align-items:center}
    nav a{position:relative;color:var(--text);text-decoration:none;padding:8px;border-radius:8px;font-weight:600;transition:color .18s ease}
    nav a::after{
      content:"";
      position:absolute;
      left:12px;
      right:12px;
      bottom:6px;
      height:2px;
      background:transparent;
      transform:scaleX(0);
      transform-origin:left;
      transition:transform .22s cubic-bezier(.2,.9,.2,1), background .22s ease;
      border-radius:2px;
    }
    nav a:hover{ color: var(--accent); }
    nav a.active{ color: var(--accent); }
    nav a.active::after{ background:var(--accent); transform:scaleX(1); }

    .controls{display:flex;gap:12px;align-items:center}

    /* larger theme button (desktop) */
    .theme-btn{
      display:inline-flex;
      gap:12px;
      align-items:center;
      padding:12px 18px;
      border-radius:14px;
      border:1px solid var(--glass-strong);
      background:transparent;
      color:var(--text);
      cursor:pointer;
      font-weight:700;
      font-size:15px;
      transition:transform .14s ease, box-shadow .14s ease, background .14s ease;
    }
    .theme-btn i{font-size:20px}
    .theme-btn:hover{ transform:translateY(-3px); box-shadow:0 12px 30px rgba(0,0,0,0.06); }

    /* menu button larger (hamburger) */
    .menu-btn{
      display:none;
      background:none;border:0;color:var(--text);
      font-size:28px; /* bigger 3-line icon */
      cursor:pointer;
      padding:10px;
      border-radius:8px;
      transition: transform .12s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .menu-btn:active{ transform:scale(.98); }

    /* responsive nav overlay for mobile */
    @media(max-width:980px){
      /* Use a lightweight, non-blur overlay to avoid heavy rendering on mobile */
      nav{
        display:flex;
        flex-direction:column;
        position:fixed;
        top:var(--header-h);
        left:0;
        right:0;
        background:var(--panel);
        padding:12px 6vw;
        gap:12px;
        /* reduced shadow and removed backdrop-filter to avoid mobile lag */
        box-shadow:0 6px 22px rgba(0,0,0,0.08);
        transform:translateY(-8px);
        opacity:0;
        pointer-events:none;
        transition: transform .18s cubic-bezier(.2,.9,.2,1), opacity .12s linear;
        will-change: transform, opacity;
        z-index:1100;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
      }
      nav.open{transform:translateY(0);opacity:1;pointer-events:auto}
      .menu-btn{display:block}
      .controls{gap:8px}
      .theme-btn{padding:10px 14px;font-size:15px}

      /* avoid expensive filter effects on mobile */
      header{backdrop-filter:none}
      html[data-theme="dark"] header{background:linear-gradient(180deg, rgba(8,8,8,0.88), rgba(8,8,8,0.70));}

      /* reduce heavy shadow/filters for items that animate on mobile */
      .hero-img{ transition: transform .45s cubic-bezier(.2,.9,.2,1), opacity .28s; box-shadow: 0 18px 44px rgba(0,0,0,0.08); }

      /* menu button placement for mobile */
      .menu-btn{ display:block; position:absolute; left:14px; top:50%; transform:translateY(-50%); z-index:1400; color:var(--text); font-size:22px; background:none; border:0; }

      /* hide the logo entirely on mobile as requested */
      .logo{ display:none; }

      .controls{ position:absolute; right:14px; top:50%; transform:translateY(-50%); z-index:1400; }

      /* stacking */
      .hero{ display:flex; flex-direction:column; align-items:center; }
      .hero-right{ order:-1; width:100%; display:flex; flex-direction:column; align-items:center; position:relative; padding-top:8px }
      .hero-left{ padding:28px 6vw; align-items:center; text-align:center; order:1 }
      .content{ margin:0 auto }
      .hero-buttons{ justify-content:center }
      h1.headline{ font-size:28px }

      /* container width limited to hero image width and icons spaced evenly */
      .image-socials{
        position:absolute;
        top: calc(var(--header-h) + 8px); /* place below fixed header so it doesn't hide under the header */
        left:50%;
        transform:translateX(-50%);
        z-index:1300; /* ensure icons are on top and visible */
        gap:12px;
        padding:0 6px;
        display:flex;
        justify-content:space-between;
        width: min(92%, 360px);   /* tightened width for small screens so they don't overflow */
        pointer-events:auto;
      }

      /* reduced slab size and subtler border for mobile (theme-specific border above still applies) */
      .image-socials a{
        width:72px;
        height:72px;
        font-size:24px;
        border-radius:14px;
        display:inline-flex;
        align-items:center;
        justify-content:center;
        /* don't override border here: theme rules above control exact color/strength */
        color: var(--text);                     /* icon color adapts */
        box-shadow: 0 10px 22px rgba(0,0,0,0.06);
        transition: transform .18s ease, box-shadow .18s ease;
        position:relative;
        background: var(--panel);
      }
      .image-socials a i{ color: var(--text); z-index:2; }

      /* inner stroke — made thinner and subtler, respect theme */
      .image-socials a::after{
        content:"";
        position:absolute;
        width:60px;
        height:60px;
        border-radius:12px;
        border: 1px solid rgba(0,0,0,0.06);
        top:6px;
        left:6px;
        pointer-events:none;
        opacity:0.06; /* subtle */
      }

      .image-socials a:hover{ transform:translateY(-6px); box-shadow:0 18px 36px rgba(0,0,0,0.10); }

      /* push image down so slabs and header spacing look correct
         + reduced the previously large top offset to a compact, header-aware offset */
      .hero-img{
        width: min(92%, 420px);
        height: auto;
        border-radius:20px;
        margin: calc(12px + var(--header-h) + 8px) auto 18px; /* header-aware top spacing — keeps text and image close */
        box-shadow: 0 20px 60px rgba(0,0,0,0.06);
        border: 1px solid rgba(0,0,0,0.06);
        z-index:20;
        will-change: transform, opacity;
      }

      .cv-wrap{ display:none }
      .menu-btn{ font-size:26px }
      .theme-btn{ padding:10px 14px }
    }

    .section-inner{height:calc(100vh - var(--header-h));padding-top:var(--header-h);display:flex;align-items:center;position:relative;overflow:hidden}

    /* hero: 50/50 columns so right half is image */
    .hero{display:grid;grid-template-columns:1fr 1fr;min-height:100%}
    .hero-left{padding:72px 7vw;display:flex;align-items:flex-start}
    .content{max-width:720px}
    .kicker{letter-spacing:3px;color:var(--primary);font-weight:800;margin-bottom:14px;font-size:13px}

    h1.headline{font-family:'Playfair Display',serif;font-size:48px;line-height:1.06;margin:0;color:var(--text);white-space:pre-line;word-break:break-word}

    .hero-buttons{margin-top:24px;display:flex;gap:14px;flex-wrap:wrap}
    /* button animation: lift + shadow */
    .btn{
      padding:12px 20px;border-radius:10px;border:2px solid var(--glass);background:transparent;color:var(--text);font-weight:700;cursor:pointer;
      transition:transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s ease, background .18s ease;
      will-change: transform, box-shadow;
    }
    .btn:hover{ transform:translateY(-6px); box-shadow:0 18px 40px rgba(16,24,40,0.06); }
    .btn:active{ transform:translateY(-2px); box-shadow:0 10px 22px rgba(16,24,40,0.06); }
    .btn.primary{ background:var(--primary); color:#fff; border-color:var(--primary); box-shadow:0 14px 36px rgba(225,74,42,0.12); }

    .hero-right{position:relative;overflow:hidden;display:flex;align-items:stretch;height:100%}
    .hero-img{
      /* slightly smaller so there's a little space around the image */
      width: calc(100% - 24px);   /* 12px gap each side */
      height: calc(100% - 24px);  /* 12px gap top & bottom */
      margin: 12px auto;          /* centers horizontally and creates the gap */
      display: block;
      box-sizing: border-box;

      object-fit: cover;
      object-position: center;

      /* curved corners */
      border-radius: 28px;

      transition: transform .9s cubic-bezier(.2,.9,.2,1), opacity .45s;
      will-change: transform, opacity;
      z-index:1;
    }

    /* DESKTOP ONLY: move whole image 2.5cm left */
    @media (min-width: 981px) {
      .hero-img {
        margin-left: calc(12px - 2.5cm);
      }
    }

    .hero-placeholder{width:100%;height:100%;min-height:100%;background:linear-gradient(120deg,#222 0%, #333 100%)}

    /* socials: bigger and animated blue hover (desktop) */
    .image-socials{
      position:absolute;left:50%;top:22px;transform:translateX(-50%);
      z-index:18;display:flex;gap:20px;align-items:center;padding:6px;border-radius:999px;pointer-events:auto;
      background:transparent; border: none; box-shadow:none;
    }

    .image-socials a{
      display:inline-grid;place-items:center;
      width:80px;
      height:80px;
      border-radius:16px;
      text-decoration:none;
      color:var(--text);
      font-size:32px;
      background:transparent;
      border:none;
      transition:transform .18s ease,filter .18s ease, box-shadow .25s ease;
      will-change:transform, box-shadow;
    }
    .image-socials a i{color:inherit}
    .image-socials a:hover{
      transform:translateY(-6px) scale(1.06);
      box-shadow:0 26px 60px rgba(37,99,235,0.14), 0 10px 30px rgba(16,24,40,0.06);
    }
    .image-socials a:hover i{ color: var(--accent); filter: drop-shadow(0 14px 40px rgba(37,99,235,0.20)); }
    .image-socials a:focus{ outline:4px solid rgba(37,99,235,0.12); outline-offset:4px; border-radius:14px; }

    /* ====== THEME-SPECIFIC SOCIAL BORDER ======
       Light mode: stronger black border
       Dark mode: subtle light border (keeps behaviour unchanged)
    ================================================== */
    :root .image-socials a{
      /* this will apply in light mode */
      border: 1px solid rgba(0,0,0,0.14);
      background: var(--panel);
    }
    html[data-theme="dark"] .image-socials a{
      /* override in dark mode */
      border: 1px solid rgba(255,255,255,0.06);
      background: var(--panel);
    }

    .cv-wrap{position:absolute;left:18px;bottom:18px;z-index:6}
    .cv-btn{border:1px solid var(--glass-strong);background:transparent;color:var(--text);padding:8px 12px;border-radius:10px}

    /* sections */
    #about,#works,#contact{display:flex;align-items:center;justify-content:center;background:transparent}
    .box{max-width:980px;padding:44px; background: transparent; border-radius:8px;}

    /* == MOBILE VIEW: make slabs smaller, reduce border-size and fit inside image width
       + move hero image 0.5cm down (as requested) and hide logo in mobile */
    @media(max-width:980px){
      /* header arrangement */
      .menu-btn{ display:block; position:absolute; left:14px; top:50%; transform:translateY(-50%); z-index:1400; color:var(--text); font-size:22px; background:none; border:0; }
      /* hide the logo entirely on mobile as requested */
      .logo{
        display:none;
      }
      .controls{ position:absolute; right:14px; top:50%; transform:translateY(-50%); z-index:1400; }

      /* stacking */
      .hero{ display:flex; flex-direction:column; align-items:center; }
      .hero-right{ order:-1; width:100%; display:flex; flex-direction:column; align-items:center; position:relative; padding-top:8px }
      .hero-left{ padding:28px 6vw; align-items:center; text-align:center; order:1 }
      .content{ margin:0 auto }
      .hero-buttons{ justify-content:center }
      h1.headline{ font-size:28px }

      /* container width limited to hero image width and icons spaced evenly */
      .image-socials{
        position:absolute;
        top: calc(var(--header-h) + 8px); /* place below fixed header */
        left:50%;
        transform:translateX(-50%);
        z-index:1300; /* higher than header so icons remain visible */
        gap:12px;
        padding:0 6px;
        display:flex;
        justify-content:space-between;
        width: min(92%, 360px);   /* tightened for small screens */
        pointer-events:auto;
      }

      /* reduced slab size and subtler border for mobile (theme-specific border above still applies) */
      .image-socials a{
        width:72px;
        height:72px;
        font-size:24px;
        border-radius:14px;
        display:inline-flex;
        align-items:center;
        justify-content:center;
        /* don't override border here: theme rules above control exact color/strength */
        color: var(--text);                     /* icon color adapts */
        box-shadow: 0 10px 22px rgba(0,0,0,0.08);
        transition: transform .18s ease, box-shadow .18s ease;
        position:relative;
        background: var(--panel);
      }
      .image-socials a i{ color: var(--text); z-index:2; }

      /* inner stroke — made thinner and subtler */
      .image-socials a::after{
        content:"";
        position:absolute;
        width:60px;
        height:60px;
        border-radius:12px;
        border: 1px solid rgba(255,255,255,0.8);
        top:6px;
        left:6px;
        pointer-events:none;
        opacity:0.06; /* subtle */
      }

      .image-socials a:hover{ transform:translateY(-6px); box-shadow:0 20px 40px rgba(0,0,0,0.12); }

      /* push image down so slabs and header spacing look correct and slabs fit inside hero width
         + added 0.5cm downward shift per your request -> replaced by header-aware spacing to remove long gap */
      .hero-img{
        width: min(92%, 420px);
        height: auto;
        border-radius:20px;
        margin: calc(12px + var(--header-h) + 8px) auto 18px; /* <- header-aware top spacing */
        box-shadow: 0 30px 80px rgba(0,0,0,0.08);
        border: 1px solid rgba(0,0,0,0.06);
        z-index:20;
      }

      .cv-wrap{ display:none }
      .menu-btn{ font-size:26px }
      .theme-btn{ padding:10px 14px }
    }

    /* modern reveal animations: initial state */
    .anim{
      opacity:0;
      transform: translateY(18px) scale(0.995);
      transition: opacity 650ms cubic-bezier(.2,.9,.2,1), transform 650ms cubic-bezier(.2,.9,.2,1);
      will-change: opacity, transform;
    }
    /* in-view state */
    .anim.in-view{
      opacity:1;
      transform: translateY(0) scale(1);
    }

    /* optional: reduce motion for users who prefer reduced-motion */
    @media (prefers-reduced-motion: reduce){
      *{transition:none!important}
      .hero-img{transition:none}
      html { scroll-behavior: auto; }
    }

    /* Move all social logos 0.7 cm left (desktop unchanged) */
    @media (min-width: 1024px) {
      .image-socials a {
        position: relative;
        left: -1.2cm;
      }
    }
  </style>
</head>
<body>
  <header>
    <button class="menu-btn" id="menuBtn" aria-label="Open menu" aria-expanded="false"><i id="menuIco" class="fa-solid fa-bars"></i></button>
    <div class="logo" id="logo">Abhinand</div>

    <nav id="mainNav" aria-label="Main navigation">
      <a href="#intro">HOME</a>
      <a href="#about">ABOUT</a>
      <a href="#works">PROJECTS</a>
      <a href="#contact">CONTACT</a>
    </nav>

    <div class="controls">
      <button class="theme-btn" id="themeBtn" aria-label="Toggle theme">
        <i id="themeIco" class="fa-solid fa-moon" aria-hidden="true"></i>
      </button>
    </div>
  </header>

  <!-- HERO -->
  <section id="intro">
    <div class="section-inner hero" id="heroSection">
      <div class="hero-left">
        <div class="content">
          <div class="kicker anim">HELLO</div>
          <h1 class="headline anim">I'm Abhinand Babu\.................\...........</h1>
          <p class="anim" style="margin-top:16px;max-width:54ch;opacity:.92"> B.Tech Computer Science Engineer with a strong foundation in software development and web
 technologies.</p>
          <div class="hero-buttons anim">
            <button id="moreBtn" type="button" class="btn primary">MORE ABOUT ME</button>
            <button id="contactBtn" type="button" class="btn">GET IN TOUCH</button>
          </div>
        </div>
      </div>

      <div class="hero-right">
        <img id="heroImgTag" class="hero-img" alt="Hero image" src="" />
        <div id="heroPlaceholder" class="hero-placeholder" aria-hidden="true"></div>

        <!-- socials: TOP CENTER icons-only -->
        <div class="image-socials" aria-hidden="false">
           <!-- Email anchor -->
     <!-- move this OUT of .image-socials and place it as a direct child of .hero-right -->
<a href="#"
   id="email-link"
   title="Email"
   onclick="openGmailCompose(event)"
   role="listitem"
   class="social-link">
  <i class="fa-solid fa-envelope" aria-hidden="true"></i>
  <span class="sr-only">Email</span>
</a>
<p>&nbsp;</p>
      <a href="https://github.com/Abhinand2502" target="_blank" rel="noopener noreferrer" title="GitHub" class="social-link" role="listitem">
        <i class="fa-brands fa-github" aria-hidden="true"></i>
        <span class="sr-only">GitHub</span>
      </a>
<p>&nbsp;</p>
      <a href="https://linkedin.com/in/abhinand-babu-153b66324" target="_blank" rel="noopener noreferrer" title="LinkedIn" class="social-link" role="listitem">
        <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
        <span class="sr-only">LinkedIn</span>
      </a>
<p>&nbsp;</p>
      <a href="https://instagram.com/_abhinand_babu" target="_blank" rel="noopener noreferrer" title="Instagram" class="social-link" role="listitem">
        <i class="fa-brands fa-instagram" aria-hidden="true"></i>
        <span class="sr-only">Instagram</span>
      </a>
        </div>

        
      </div>
    </div>
  </section>




<!-- ABOUT (fixed: education level bars + proper Django logo) -->
<section id="about">
  <style>
    /* ABOUT — improved, scoped, updated for bars + real logos */
    #about { display:block; }
    .about-inner { --about-muted: rgba(11,11,11,0.56); }
    html[data-theme="dark"] .about-inner { --about-muted: rgba(255,255,255,0.72); }

    .about-inner { min-height:calc(100vh - var(--header-h)); padding-top:var(--header-h); display:flex; align-items:center; justify-content:center; }
    .about-container { width:1350%; max-width:1350px; padding:24px; display:grid; grid-template-columns:420px 1fr; gap:28px; align-items:stretch; }

    .themed-card { border-radius:18px; padding:20px; transition: background-color .18s ease, border-color .18s ease, box-shadow .18s ease; background: #fff; border: 2px solid #0b0b0b; color: var(--text); box-shadow: 0 8px 28px rgba(16,24,40,0.06); }
    html[data-theme="dark"] .themed-card { background: #0b0b0b; border: 2px solid #ffffff; color: var(--text); box-shadow: 0 12px 36px rgba(0,0,0,0.6); }

    .profile-wrap { display:flex; flex-direction:column; gap:18px; align-items:center; justify-content:flex-start; position:relative; overflow:visible; }
    @media (min-width:980px) { .profile-wrap { min-height:520px; padding:28px; } }
    @media (max-width:979px) { .profile-wrap { padding:18px; min-height:unset; } }

    .avatar { width:160px; height:160px; border-radius:50%; overflow:hidden; display:grid; place-items:center; background: linear-gradient(135deg, var(--glass), var(--glass-strong)); position:relative; box-shadow:0 18px 50px rgba(37,99,235,0.08); }
    .avatar img { width:100%; height:100%; object-fit:cover; display:block; }
    .avatar::after { content:""; position:absolute; inset:-8px; border-radius:50%; border:6px solid rgba(255,255,255,0.9); box-shadow:0 8px 30px rgba(0,0,0,0.06); }
    html[data-theme="dark"] .avatar::after { border-color:#00e6ff; box-shadow:0 10px 36px rgba(0,230,255,0.06); }

    .profile-name { font-family:'Playfair Display',serif; font-weight:900; font-size:28px; margin:0; color:var(--text); text-align:center; }
    .profile-role { font-weight:700; font-size:14px; color:var(--about-muted); letter-spacing:0.6px; text-transform:uppercase; }

    .degree-pill { width:100%; display:flex; justify-content:center; align-items:center; border-radius:12px; padding:12px 16px; font-weight:900; font-size:16px; letter-spacing:0.4px; background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(0,0,0,0.06); color:var(--text); }
    html[data-theme="dark"] .degree-pill { border:1px solid rgba(255,255,255,0.06); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }

    .meta-row { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:8px; }
    .badge { display:inline-flex; gap:8px; align-items:center; padding:8px 12px; border-radius:999px; font-weight:700; font-size:13px; background:transparent; border:1px solid rgba(0,0,0,0.06); color:var(--text); }
    html[data-theme="dark"] .badge { border-color: rgba(255,255,255,0.06); }

    .stat-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; width:100%; margin-top:14px; }
    .stat { border-radius:12px; padding:18px 12px; text-align:center; background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(0,0,0,0.06); }
    .stat .k { font-size:12px; font-weight:800; color:var(--about-muted); text-transform:uppercase; letter-spacing:0.8px; }
    .stat .v { font-size:18px; font-weight:900; color:var(--text); margin-top:8px; }
    html[data-theme="dark"] .stat { border-color: rgba(255,255,255,0.06); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }

    .right-col { display:flex; flex-direction:column; gap:18px; }
    .right-col > .card { display:flex; flex-direction:column; gap:12px; flex:1; padding:18px; border-radius:14px; box-shadow:var(--card-shadow); }

    .section-title { font-family:'Playfair Display',serif; font-size:20px; margin:0 0 6px 0; color:var(--text); font-weight:800; }

    /* EDUCATION: level bar */
    .edu-item { display:flex; flex-direction:column; gap:10px; padding:8px 0; }
    .edu-head { display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
    .edu-school { font-weight:800; font-size:14px; color:var(--text); }
    .edu-meta { font-size:13px; color:var(--about-muted); font-weight:700; }
    .edu-row { display:flex; align-items:center; gap:12px; justify-content:space-between; }
    .edu-bar-wrap { flex:1; height:12px; background: rgba(0,0,0,0.06); border-radius:999px; overflow:hidden; border:1px solid rgba(0,0,0,0.04); }
    html[data-theme="dark"] .edu-bar-wrap { background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); }
    .edu-bar { display:block; height:100%; width:0%; border-radius:999px; background: linear-gradient(90deg,var(--primary),var(--accent)); box-shadow:0 10px 30px rgba(37,99,235,0.12); transition: width 900ms cubic-bezier(.2,.9,.2,1); }

    .edu-percent { font-weight:900; font-size:13px; color:var(--text); min-width:56px; text-align:right; }

    /* SKILLS: real-logo style */
    .skills-grid { display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; }
    .skill { display:flex; gap:12px; align-items:center; padding:10px; border-radius:12px; background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(0,0,0,0.06); }
    html[data-theme="dark"] .skill { border-color: rgba(255,255,255,0.06); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
    .skill .icon { width:46px; height:46px; border-radius:10px; display:grid; place-items:center; background:#fff; box-shadow:0 8px 26px rgba(16,24,40,0.12); }
    .skill .icon img { width:28px; height:28px; object-fit:contain; }
    .skill .icon i { font-size:20px; }
    .skill .label { font-weight:800; font-size:14px; color:var(--text); }

    /* Force all skill logos/icons into blue */
.skill .icon i,
.skill .icon img {
  filter: brightness(0) saturate(100%) invert(27%) sepia(98%) saturate(2042%) hue-rotate(202deg) brightness(95%) contrast(97%);
  /* 🔹 This filter makes any logo appear blue (#1572B6-like). */
}

/* OR simpler: if you're only using <i> (FontAwesome) icons */
.skill .icon i {
  color: #1572B6 !important;   /* 🔹 Force all icons blue */
}


    .themed-card:focus-within, .themed-card:hover { transform: translateY(-4px); box-shadow: 0 20px 50px rgba(16,24,40,0.10); }

    @media (max-width:980px) {
      .about-container { grid-template-columns: 1fr; gap:18px; padding:18px; align-items:stretch; }
      .right-col { flex-direction:column; }
      .skills-grid { grid-template-columns: repeat(3, 1fr); }
      .stat-grid { grid-template-columns: repeat(3, 1fr); }
      .avatar { width:120px; height:120px; }
    }
    @media (max-width:720px) {
      .skills-grid { grid-template-columns: repeat(2, 1fr); }
      .stat-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>

  <div class="about-inner">
    <div class="about-container">
      <!-- LEFT: Profile -->
      <div class="profile-wrap themed-card anim" aria-labelledby="profileHeading" role="region" aria-roledescription="profile card">
        <div style="position:relative; width:100%; display:flex; justify-content:center;">
          <div class="avatar" aria-hidden="false">
            <img src="assets/your-profile.jpg" alt="Abhinand profile picture">
          </div>
        </div>

        <div style="text-align:center; width:100%;">
          <div id="profileHeading" class="profile-name">Abhinand Babu</div>
          <div class="profile-role">Developer · B.Tech CSE</div>

          <div class="degree-pill" aria-hidden="false">
            <div style="text-align:center;">
              <div style="font-size:12px;color:var(--about-muted);font-weight:800;letter-spacing:0.6px">DEG</div>
              <div style="font-size:18px;margin-top:4px;font-weight:900;color:var(--text)">B.Tech — CSE</div>
            </div>
          </div>


          <div class="stat-grid" role="list" aria-label="Personal stats">
            <div class="stat" role="listitem" tabindex="0">
              <div class="k">AGE</div>
              <div class="v">22</div>
            </div>
            <div class="stat" role="listitem" tabindex="0">
              <div class="k">DOB</div>
              <div class="v">25/02/03</div>
            </div>

            <div class="stat" role="listitem" tabindex="0">
              <div class="k">STATUS</div>
              <div class="v">Student</div>
            </div>
            <div class="stat" role="listitem" tabindex="0">
              <div class="k">EXP</div>
              <div class="v">Fresher</div>
            </div>
            <div class="stat" role="listitem" tabindex="0">
              <div class="k">COUNTRY</div>
              <div class="v">🇮🇳</div>
            </div>
             <div class="stat" role="listitem" tabindex="0">
              <div class="k">LOC</div>
              <div class="v">Kerala</div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Education and Skills -->
      <div class="right-col">
        <div class="card themed-card anim" aria-labelledby="eduTitle" role="region" aria-roledescription="education">
          <h3 id="eduTitle" class="section-title">Education (Academic Journey)</h3>

          <div class="edu-list">
            <div class="edu-item">
              <div class="edu-head">
                <div>
                  <div class="edu-school">B.Tech in CSE — UCE, Thodupuzha</div>
                  <div class="edu-meta">2021 – 2025</div>
                </div>
              
              </div>
              <div class="edu-row">
                <div class="edu-bar-wrap" aria-hidden="true"><div class="edu-bar" data-width="69.9"></div></div>
                <div class="edu-percent" aria-hidden="false">Level: <strong>69.9 GPA</strong></div>
              </div>
            </div>

            <div class="edu-item">
              <div class="edu-head">
                <div>
                  <div class="edu-school">Higher Secondary — St. Sebastian's HSS, Vazhithala</div>
                  <div class="edu-meta">2019 – 2021</div>
                </div>
    
              </div>
              <div class="edu-row">
                <div class="edu-bar-wrap"><div class="edu-bar" data-width="94"></div></div>
                <div class="edu-percent">Level: <strong>94%</strong></div>
              </div>
            </div>

            <div class="edu-item">
              <div class="edu-head">
                <div>
                  <div class="edu-school">Secondary — Bappuji Public School, Vazhithala</div>
                  <div class="edu-meta">2018 – 2019</div>
                </div>
     
              </div>
              <div class="edu-row">
                <div class="edu-bar-wrap"><div class="edu-bar" data-width="80"></div></div>
                <div class="edu-percent">Level: <strong>80%</strong></div>
              </div>
            </div>
          </div>
        </div>

        <div class="card themed-card anim" aria-labelledby="skillsTitle" role="region" aria-roledescription="skills">
          <h3 id="skillsTitle" class="section-title">Skills — Modern stack</h3>

          <div class="skills-grid" role="list" aria-label="skills">
            <div class="skill python" role="listitem" tabindex="0">
              <div class="icon"><img src="assets/logos/python.svg" alt="Python logo" onerror="this.style.display='none';this.parentNode.innerHTML='<i class=&quot;fa-brands fa-python&quot;></i>'"></div>
              <div class="label">Python</div>
            </div>

           <div class="skill django" role="listitem" tabindex="0">
  <div class="icon">
    <img src="assets/logos/django.svg" alt="Django logo"
         style="filter: brightness(0) saturate(100%) invert(24%) sepia(93%) saturate(6000%) hue-rotate(200deg) brightness(95%) contrast(105%);"
         onerror="this.style.display='none'; this.parentNode.innerHTML='<span style=&quot;font-weight:900;font-size:14px;color:#2563eb;&quot;>Dj</span>'">
  </div>
  <div class="label">Django</div>
</div>


            <div class="skill html" role="listitem" tabindex="0">
              <div class="icon"><img src="assets/logos/html5.svg" alt="HTML5" onerror="this.style.display='none';this.parentNode.innerHTML='<i class=&quot;fa-brands fa-html5&quot;></i>'"></div>
              <div class="label">HTML</div>
            </div>

            <div class="skill css" role="listitem" tabindex="0">
              <div class="icon"><img src="assets/logos/css3.svg" alt="CSS3" onerror="this.style.display='none';this.parentNode.innerHTML='<i class=&quot;fa-brands fa-css3-alt&quot;></i>'"></div>
              <div class="label">CSS</div>
            </div>

            <div class="skill js" role="listitem" tabindex="0">
              <div class="icon"><img src="assets/logos/javascript.svg" alt="JavaScript" onerror="this.style.display='none';this.parentNode.innerHTML='<i class=&quot;fa-brands fa-js&quot;></i>'"></div>
              <div class="label">JavaScript</div>
            </div>

            <div class="skill react" role="listitem" tabindex="0">
              <div class="icon"><img src="assets/logos/react.svg" alt="React" onerror="this.style.display='none';this.parentNode.innerHTML='<i class=&quot;fa-brands fa-react&quot;></i>'"></div>
              <div class="label">React</div>
            </div>

            <div class="skill sql" role="listitem" tabindex="0">
              <div class="icon"><img src="assets/logos/sql.svg" alt="SQL" onerror="this.style.display='none';this.parentNode.innerHTML='<i class=&quot;fa-solid fa-database&quot;></i>'"></div>
              <div class="label">SQL</div>
            </div>

            <div class="skill ml" role="listitem" tabindex="0">
              <div class="icon"><img src="assets/logos/ml.svg" alt="Machine Learning" onerror="this.style.display='none';this.parentNode.innerHTML='<i class=&quot;fa-solid fa-robot&quot;></i>'"></div>
              <div class="label">ML</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // reveal + animate bars + immediate set (fix for missing bars)
    (function(){
      const animItems = document.querySelectorAll('#about .anim');
      if('IntersectionObserver' in window){
        const obs = new IntersectionObserver((entries, o)=>{
          entries.forEach(entry=>{
            if(entry.isIntersecting){
              entry.target.classList.add('in-view');
              o.unobserve(entry.target);
            }
          });
        }, {threshold: 0.12});
        animItems.forEach(i => obs.observe(i));
      } else { animItems.forEach(i => i.classList.add('in-view')); }

      function setEduBarsImmediate(){
        document.querySelectorAll('#about .edu-bar').forEach(b => {
          const w = Number(b.getAttribute('data-width') || 0);
          b.style.width = Math.max(0, Math.min(100, w)) + '%';
        });
      }

      // Progressively animate bars when edu items enter view (accessible)
      const eduItems = document.querySelectorAll('#about .edu-item');
      if('IntersectionObserver' in window){
        const obs2 = new IntersectionObserver((entries, o)=>{
          entries.forEach(entry=>{
            if(entry.isIntersecting){
              const bar = entry.target.querySelector('.edu-bar');
              if(bar){
                const w = Number(bar.getAttribute('data-width') || 0);
                // set to 0 first to ensure transition shows
                bar.style.width = '0%';
                // small timeout to trigger transition
                setTimeout(()=> bar.style.width = Math.max(0, Math.min(100, w)) + '%', 80);
              }
              o.unobserve(entry.target);
            }
          });
        }, {threshold: 0.12});
        eduItems.forEach(i => obs2.observe(i));
      } else {
        setEduBarsImmediate();
      }

      // Also call immediate set after DOM ready in case observer doesn't fire
      window.addEventListener('load', () => setEduBarsImmediate());
      // ensure immediate set also on DOMContentLoaded
      document.addEventListener('DOMContentLoaded', () => setEduBarsImmediate());
    })();
  </script>
</section>






<!-- ===== WORKS: updated — lightbox uses data-lightbox separately from thumbnails ===== -->
<section id="works" aria-labelledby="worksTitle">
  <style>
    :root{
      --glass-strong: rgba(0,0,0,0.08);
      --primary:#2a7cf1;
      --text:#111;
      --muted:#7a7a7a;
      --header-h:72px; /* adjust to your header height */
      --card-radius:12px;
      --thumb-interval: 1800ms;
      --card-bg: #ffffff; /* card / small UI background */
    }

    /* container */
    #works { padding-top: calc(var(--header-h) + 10px); padding-bottom: 48px; background: transparent; position: relative; z-index: 1; }
    #works > .section-inner { height:auto !important; min-height:0 !important; display:block !important; padding-top:0 !important; }
    #works .box { width:100%; max-width:1400px; margin:0 auto; padding:24px; box-sizing:border-box; }

    /* SEARCH - stronger black border and modern style */
    .search-wrap { margin: 8px 0 18px; display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .search-left { display:flex; gap:10px; align-items:center; flex:1; min-width:220px; }
    .search-input {
      flex:1;
      padding:12px 14px 12px 40px;
      border-radius:12px;
      border:2px solid #000;            /* stronger black border per request */
      font-size:14px;
      box-sizing:border-box;
      outline:none;
      background: var(--card-bg);
      color: var(--text);
      box-shadow: 0 6px 18px rgba(38,57,90,0.03);
      transition: box-shadow .12s ease, transform .09s ease, border-color .12s ease;
      position:relative;
    }
    .search-input::placeholder { color: var(--muted); }
    .search-input:focus { box-shadow: 0 12px 30px rgba(42,124,241,0.06); transform: translateY(-1px); border-color: rgba(0,0,0,0.9); }
    .search-icon { position:relative; left:34px; margin-right: -34px; pointer-events:none; opacity:.9; font-weight:700; color:var(--muted); font-size:14px; }
    .search-actions { display:flex; gap:8px; align-items:center; }
    .search-clear { padding:8px 12px; border-radius:10px; border:1px solid var(--glass-strong); background:transparent; cursor:pointer; font-weight:800; font-size:13px; color:var(--text); }
    /* Dark mode border override for search-clear */
body.dark .search-clear,
html.dark .search-clear,
.dark-mode .search-clear,
.theme-dark .search-clear,
[data-theme="dark"] .search-clear {
  border-color: #ffffff !important; /* white border in dark mode */
}

    .result-count { font-weight:700; color:var(--text); font-size:13px; white-space:nowrap; }

    /* highlight for matched text */
    .hl { background: rgba(42,124,241,0.18); padding:0 3px; border-radius:3px; color:var(--text); font-weight:800; }

    /* Grid: mobile 1, tablet/desktop 3 columns */
    .folio-grid { display:grid; gap:16px; grid-template-columns: 1fr; align-items:stretch; }
    @media (min-width:760px) { .folio-grid { grid-template-columns: repeat(3, 1fr); } }

    /* show first 6 items by default */
    .folio-grid .folio-item { display:block; }
    .folio-grid .folio-item:nth-child(n+7) { display:none; }  /* <-- show only first 6 */
    .folio-grid.expanded .folio-item { display:block; }

    /* Rectangle card */
    .folio-item { display:block; overflow:visible; border-radius:var(--card-radius); position:relative; border:1px solid var(--glass-strong); transition: transform .18s ease, box-shadow .18s ease; cursor:pointer; background:var(--card-bg); padding:0; }
    .folio-item:focus, .folio-item:hover { transform: translateY(-6px); box-shadow: 0 22px 60px rgba(16,24,40,0.10); outline:none; }

    /* thumb-wrap: rectangle 16:9 - image fills card area */
    .thumb-wrap { width:100%; aspect-ratio: 16/9; position:relative; overflow:hidden; border-radius:var(--card-radius) var(--card-radius) 8px 8px; background:#000; display:block; }
    .thumb-wrap img {
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
      opacity:0;
      transform: scale(1.03) translateZ(0);
      transition: opacity .45s ease, transform .6s cubic-bezier(.2,.9,.2,1);
      backface-visibility:hidden;
      will-change: opacity, transform;
    }
    .thumb-wrap img.active { opacity:1; transform: scale(1); z-index:1; }

    /* caption overlay: title + view inside the image area (dark overlay) */
    .folio-caption { position:absolute; left:12px; bottom:12px; right:12px; padding:8px 12px; border-radius:10px; background: rgba(0,0,0,0.52); color:#fff; font-weight:900; font-size:14px; display:flex; gap:12px; align-items:center; backdrop-filter: blur(6px); z-index: 10; }
    .folio-caption .title { font-weight:900; letter-spacing:0.2px; color:#fff; flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-size:14px; }
    /* view control: pill-style, smaller on mobile, consistent across breakpoints */
    .folio-caption .view {
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:6px 10px;
      border-radius:10px;
      background: rgba(255,255,255,0.06);
      color:#fff;
      font-weight:700;
      font-size:13px;
      min-width:54px;
      height:36px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.18);
      border: 1px solid rgba(255,255,255,0.06);
    }
    @media (max-width:760px){
      .folio-caption { padding:6px 10px; bottom:8px; left:8px; right:8px; }
      .folio-caption .title { font-size:13px; }
      .folio-caption .view { padding:6px 8px; min-width:44px; height:32px; font-size:12px; }
    }

    /* removed the white meta tab – keep these gone */
    /* .folio-meta and children intentionally removed from layout */

    /* no results */
    /* replace previous .no-results rule with this */
/* ===== minimal overrides — paste at the END of your #works <style> block ===== */

/* NO RESULTS: black in light, white in dark (many dark-mode selectors covered) */
#works .no-results {
  color: #111111 !important;    /* default: black */
}

/* dark-mode variants (common patterns) */
body.dark #works .no-results,
html.dark #works .no-results,
.dark-mode #works .no-results,
.theme-dark #works .no-results,
[data-theme="dark"] #works .no-results {
  color: #ffffff !important;    /* dark mode: white */
}

/* SEARCH INPUT TEXT & PLACEHOLDER: force visible (dark on both themes) */
#works .search-input {
  color: #111111 !important;           /* typed text */
  background-clip: padding-box;        /* keep BG behavior unchanged */
}

/* placeholder (all common browsers) */
#works .search-input::placeholder { color: #666666 !important; opacity: 1 !important; }
#works .search-input::-webkit-input-placeholder { color: #666666 !important; opacity: 1 !important; }
#works .search-input:-ms-input-placeholder { color: #666666 !important; opacity: 1 !important; }
#works .search-input::-ms-input-placeholder { color: #666666 !important; opacity: 1 !important; }



/* result count (makes "Showing X of Y" readable when you force text colors) */
#works .result-count { color: #111111 !important; }

    /* Lightbox overlay (unchanged) */
    .lightbox {
      position:fixed;
      inset:0;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding-top: var(--header-h);
      z-index:3000;
      background: rgba(6,6,6,0.6);
      backdrop-filter: blur(6px);
      opacity:0;
      pointer-events:none;
      transition: opacity .22s ease;
    }
    .lightbox.open { opacity:1; pointer-events:auto; }

    /* Solid shell and meta (minor rounded corners) */
    .lb-shell {
      width: calc(100vw - 48px);
      height: calc(100vh - var(--header-h) - 48px);
      max-width:1200px;
      max-height:880px;
      border-radius:10px;
      overflow:hidden;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:12px;
      background: #ffffff;
      border:1px solid rgba(0,0,0,0.06);
      box-shadow: 0 40px 120px rgba(2,6,23,0.25);
      margin-top:8px;
    }
    @media (max-width:980px){ .lb-shell { grid-template-columns: 1fr; width: calc(100vw - 12px); height: calc(100vh - var(--header-h) - 12px); } }

    .lb-view { position:relative; background:#111; display:flex; align-items:center; justify-content:center; overflow:hidden; min-height:320px; }
    .lb-track { display:flex; width:100%; height:100%; will-change: transform; transition: transform .55s cubic-bezier(.2,.9,.2,1); }
    .lb-slide { flex:0 0 100%; display:flex; align-items:center; justify-content:center; position:relative; height:100%; min-height:320px; padding:12px; box-sizing:border-box; }
    .lb-slide img { max-width:100%; max-height:100%; width:auto; height:auto; object-fit:contain; display:block; margin:auto; cursor:zoom-in; user-select:none; -webkit-user-drag:none; }

    .lb-close, .lb-prev, .lb-next {
      position:absolute; z-index:40; width:44px; height:44px; border-radius:10px; display:grid; place-items:center; background: rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.06); color:#fff; font-size:18px; cursor:pointer;
      transition: transform .12s ease, opacity .12s ease;
    }
    .lb-close { right:12px; top:12px; }
    .lb-prev { left:12px; top:50%; transform:translateY(-50%); }
    .lb-next { right:12px; top:50%; transform:translateY(-50%); }

    .lb-meta { padding:18px; display:flex; flex-direction:column; gap:12px; overflow:auto; color:#111; background: #ffffff; }
    .lb-title { font-family:'Playfair Display', serif; font-size:20px; font-weight:900; margin:0; color:#111; }
    .lb-desc { color:var(--muted); font-size:13px; line-height:1.45; margin:0; min-height:48px; color:#111; }
    .lb-tech { display:flex; flex-wrap:wrap; gap:8px; margin-top:6px; align-items:center; }
    .tech-badge { display:flex; align-items:center; gap:8px; padding:6px 10px; border-radius:10px; border:1px solid var(--glass-strong); background:transparent; font-weight:700; font-size:13px; color:var(--text); }

    .btn { padding:8px 12px; border-radius:10px; font-weight:800; border:1px solid var(--glass-strong); background:transparent; cursor:pointer; font-size:13px; text-decoration:none; display:inline-block; color:var(--text); }
    .btn.primary { background:var(--primary); color:#fff; border-color:var(--primary); }

    .show-more-wrap { text-align:center; margin-top:12px; }
    .show-more { display:inline-block; padding:8px 14px; border-radius:999px; border:1px solid var(--glass-strong); background:transparent; font-weight:800; cursor:pointer; color:var(--text); }
/* Dark mode border override */
body.dark .btn,
html.dark .btn,
.dark-mode .btn,
.theme-dark .btn,
[data-theme="dark"] .btn,
body.dark .show-more,
html.dark .show-more,
.dark-mode .show-more,
.theme-dark .show-more,
[data-theme="dark"] .show-more {
  border-color: #ffffff !important; /* white border in dark mode */
}

    @media (max-width:760px){
      .folio-caption{ left:8px; bottom:8px; padding:6px 8px; font-size:12px; }
      .lb-meta{ padding:12px }
      .lb-title{ font-size:17px }
      .lb-shell { gap:8px; }
    }

    /* force ALL text inside lightbox meta to black (both themes) */
    .lightbox .lb-meta,
    .lightbox .lb-meta * {
      color: #111 !important;
    }
    .lightbox .tech-badge { color:#111 !important; border-color: rgba(0,0,0,0.06) !important; }

    /* theme toggling base (adjust if you use a body.dark class) */
    body.dark, .dark-mode {
      --text: #111;     /* you requested black text in both modes */
      --muted: #666;
      --card-bg: #0b0b0b; /* card background can be dark while text remains black */
    }

    .sr-only { position:absolute !important; width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0 }
  </style>

  <div class="section-inner">
    <div class="box">
      <h1 id="worksTitle" class="anim">My projects</h1>

      <div class="search-wrap" role="search" aria-label="Search projects">
        <div class="search-left">
          <span class="search-icon">🔎</span>
          <input id="folioSearch" class="search-input" type="search" placeholder="Search projects (title, description, tech)..." aria-label="Search projects" />
        </div>
        <div class="search-actions">
          <div id="resultCount" class="result-count" aria-live="polite"></div>
          <button id="folioSearchClear" class="search-clear" aria-label="Clear search">Clear</button>
        </div>
      </div>

     
      <p class="anim">&nbsp;</p>

      <p id="noResults" class="no-results">No projects found</p>
      <p class="anim">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

      <div class="folio-grid anim" id="folioGrid" aria-live="polite">
        <!-- Items: NOTE - .folio-meta removed. Only image + caption overlay remain -->
      <button class="folio-item"
  data-images="assets/THOME.png,assets/TRESULT.png,assets/TRESULT1.png"
  data-lightbox="assets/TLOGIN (1).png,assets/THOME.png,assets/TPROF.png,assets/TUPLOAD.png,assets/TRESULT.png,assets/TRESULT1.png,assets/THIST.png,assets/THIST2.png,assets/TCOM.png,assets/ALOG.png,assets/AHOME.png,assets/AUSER.png,assets/AHIST.png,assets/ACOMP.png"
  data-link="https://github.com/Abhinand2502/DetexAI"
  data-title="DetexAI"
  data-desc=" DetexAI is an AI-powered system using YOLOv8 to detect and classify trash in both land and aquatic environments, enabling real-time identification for smarter, faster cleanup."
  data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐YOLOv8,⭐SQLite">
  <span class="thumb-wrap" aria-hidden="true"></span>
  <div class="folio-caption"><span class="title">DetexAI – AI Trash Detection</span><span class="view">View details</span></div>
</button>


        <button class="folio-item"
          data-images="assets/login.png,assets/signup.png,assets/home.png"
          data-lightbox="assets/login.png,assets/signup.png,assets/home.png,assets/cash.png,assets/admin.png,assets/product.png,assets/orders.png"
          data-link="https://github.com/Abhinand2502/Ai-Assist-Cart"
          data-title="AI-AssistCart"
          data-desc="AI-AssistCart is an AI-powered e-commerce platform that automates product recommendations, streamlines checkout, and provides advanced admin management tools to enhance the online shopping experience. Developed using Django, it leverages TF-IDF to deliver personalized product suggestions, making shopping faster, smarter, and more intuitive."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐AJAX,⭐SQLite">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">AI-AssistCart - AI Shopping Site</span><span class="view">View details</span></div>
        </button>

        <button class="folio-item"
          data-images="assets/chat1 (1).png,assets/chat1 (2).png"
          data-lightbox="assets/chat1 (1).png,assets/chat1 (2).png"
          data-link="https://github.com/Abhinand2502/AiChatbot"
          data-title="AI-Chatbot"
          data-desc="An AI-powered bilingual chatbot built with Django, designed to communicate in both English and Malayalam. It uses a local dataset with fuzzy matching for quick responses, regex-based name recognition for personalization, and seamlessly integrates with Cohere’s AI model to handle complex queries with natural and intelligent replies."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐Cohere API">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">AI-Chatbot</span><span class="view">View details</span></div>
        </button>

        <button class="folio-item"
          data-images="assets/tic (2).png,assets/tic (3).png,assets/tic (1).png"
          data-lightbox="assets/tic (2).png,assets/tic (3).png,assets/tic (1).png"
          data-link="https://github.com/Abhinand2502/tic_tac_toe"
          data-title=" Tic-Tac-Toe"
          data-desc="✨ A futuristic neon glassmorphism Tic-Tac-Toe game with real-time multiplayer using Django Channels (WebSockets). Players compete in a best-of-3 format with glowing winning tiles, smooth animations, and responsive design for desktop & mobile."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐WebSockets">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title"> Tic-Tac-Toe</span><span class="view">View details</span></div>
        </button>

        <button class="folio-item"
          data-images="assets/todo.png,assets/todo.png,assets/todo.png"
          data-lightbox="assets/todo.png,assets/todo.png,assets/todo.png"
          data-link="https://github.com/Abhinand2502/to_do_app"
          data-title="To-Do List app"
          data-desc="To-Do App is a simple yet futuristic task management application designed to help users stay organized and productive. With its sleek black-themed interface and transparent panels, it combines functionality with a modern aesthetic.Users can easily add, edit, delete, and complete tasks while enjoying real-time search filtering. The app provides a minimal and futuristic experience that makes task management engaging and efficient."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">To-Do List app</span><span class="view">View details</span></div>
        </button>

        <button class="folio-item"
          data-images="assets/porto.png,assets/portfolio.jpg"
          data-lightbox="assets/porto.png,assets/portfolio.jpg"
          data-link="https://github.com/Abhinand2502/portofolio"
          data-title="Portfolio"
          data-desc="My personal portfolio website."
          data-tech="⭐HTML,⭐CSS,⭐JavaScript">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">Portfolio</span><span class="view">View details</span></div>
        </button>

        <!-- hidden ones (shown after Show more)paste  projects here -->



        
      </div>

      <div class="show-more-wrap"><button id="showMoreBtn" class="show-more">Show more</button></div>
    </div>
  </div>

  <!-- lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="lbTitle" tabindex="-1">
    <div class="lb-shell" role="document" aria-live="polite">
      <div class="lb-view" id="lbView" aria-hidden="false">
        <div id="lbSlides" style="width:100%;height:100%;position:relative;overflow:hidden;"></div>

        <button class="lb-prev" id="lbPrev" aria-label="Previous (Left arrow)">◀</button>
        <button class="lb-next" id="lbNext" aria-label="Next (Right arrow)">▶</button>
        <button class="lb-close" id="lbClose" aria-label="Close (Esc)">✕</button>
      </div>

      <div class="lb-meta" id="lbMeta">
        <h3 id="lbTitle" class="lb-title">Title</h3>
        <p id="lbDesc" class="lb-desc">Full description here.</p>

        <div class="lb-tech" id="lbTech" aria-hidden="false"></div>

        <div class="lb-actions">
          <a id="lbLink" class="btn primary" href="#" target="_blank" rel="noopener">Open Project</a>
    
        </div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const grid = document.getElementById('folioGrid');
      if(!grid) return;
      const items = Array.from(grid.querySelectorAll('.folio-item'));
      const lightbox = document.getElementById('lightbox');
      const lbSlides = document.getElementById('lbSlides');
      const lbTitle = document.getElementById('lbTitle');
      const lbDesc = document.getElementById('lbDesc');
      const lbTech = document.getElementById('lbTech');
      const lbLink = document.getElementById('lbLink');
      const lbClose = document.getElementById('lbClose');
      const lbPrev = document.getElementById('lbPrev');
      const lbNext = document.getElementById('lbNext');
    
      const searchInput = document.getElementById('folioSearch');
      const searchClear = document.getElementById('folioSearchClear');
      const noResults = document.getElementById('noResults');
      const showMoreBtn = document.getElementById('showMoreBtn');
      const resultCount = document.getElementById('resultCount');

      // timings (from CSS variables)
      const THUMB_INTERVAL = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--thumb-interval')) || 1800;

      // ------------ THUMBNAIL SYNCHRONIZED AUTOPLAY & caption thumbnail setup ------------
      items.forEach((it) => {
        const wrap = it.querySelector('.thumb-wrap');
        const images = (it.dataset.images || '').split(',').map(s => s.trim()).filter(Boolean);
        const imgs = images.length ? images : ['assets/bg.jpg'];

        // append image elements for thumbnail autoplay
        imgs.forEach((src, i) => {
          const img = document.createElement('img');
          img.src = src;
          img.alt = it.dataset.title || '';
          img.loading = 'lazy';
          if(i === 0) img.classList.add('active');
          wrap.appendChild(img);
        });

        // keep "View details" as a pill, NOT a bottom white tab. (No more meta block.)
        const viewEl = it.querySelector('.folio-caption .view');
        if(viewEl){
          const firstThumb = imgs[0] || '';
          if(firstThumb){
            // left in place in case you want to style the pill with the first thumb later
          }
        }

        it._thumbCount = imgs.length;
        it._thumbIndex = 0;
        it._thumbPaused = false;
        it.addEventListener('mouseenter', () => { it._thumbPaused = true; }, {passive:true});
        it.addEventListener('mouseleave', () => { it._thumbPaused = false; }, {passive:true});
        it.addEventListener('touchstart', () => { it._thumbPaused = true; }, {passive:true});
        it.addEventListener('touchend', () => { it._thumbPaused = false; }, {passive:true});
      });

      let globalThumbTick = 1;
      function thumbTick(){
        items.forEach(it => {
          if(it._thumbPaused) return;
          const count = it._thumbCount || 1;
          const newIndex = globalThumbTick % count;
          const imgs = it.querySelectorAll('.thumb-wrap img');
          imgs.forEach((img, idx) => img.classList.toggle('active', idx === newIndex));
          it._thumbIndex = newIndex;
        });
        globalThumbTick++;
      }
      let thumbTimer = setInterval(thumbTick, THUMB_INTERVAL);

      // ------------ LIGHTBOX: GPU-ACCELERATED TRACK SLIDER (NO AUTOPLAY) ------------
      let lbTrack = null;
      let lbSlidesArr = [];
      let lbCurrent = 0;
      let lastFocused = null;

      function createSlide(url, i){
        const wrapper = document.createElement('div');
        wrapper.className = 'lb-slide';
        wrapper.dataset.index = i;
        const img = document.createElement('img');
        img.src = url;
        img.alt = '';
        img.loading = 'eager';
        if(img.decode) img.decode().catch(()=>{});
        wrapper.appendChild(img);
        return wrapper;
      }

      function renderTechBadgesFromData(techString){
        lbTech.innerHTML = '';
        if(!techString) return;
        const techs = techString.split(',').map(s=>s.trim()).filter(Boolean);
        techs.forEach(t => {
          const badge = document.createElement('div'); badge.className = 'tech-badge';
          const span = document.createElement('span'); span.textContent = t; badge.appendChild(span);
          lbTech.appendChild(badge);
        });
      }

      function showLbSlide(i, instant){
        if(!lbSlidesArr.length) return;
        if(i < 0) i = lbSlidesArr.length - 1;
        if(i >= lbSlidesArr.length) i = 0;
        lbCurrent = i;
        const offset = - (100 * lbCurrent);
        if(lbTrack){
          if(instant) {
            lbTrack.style.transition = 'none';
            lbTrack.style.transform = `translateX(${offset}%)`;
            void lbTrack.offsetWidth;
            lbTrack.style.transition = '';
          } else {
            lbTrack.style.transform = `translateX(${offset}%)`;
          }
        }
      }
      function lbNextFn(){ showLbSlide(lbCurrent + 1); }
      function lbPrevFn(){ showLbSlide(lbCurrent - 1); }

      function openAt(index){
        const item = items[index]; if(!item) return;
        lastFocused = document.activeElement;

        // <-- NEW: prefer data-lightbox; fallback to data-images
        const slidesRaw = item.dataset.lightbox || item.dataset.images || '';
        const slides = slidesRaw.split(',').map(s=>s.trim()).filter(Boolean);
        const slidesToUse = slides.length ? slides : ['assets/bg.jpg'];

        lbTitle.textContent = item.dataset.title || '';
        lbDesc.textContent = item.dataset.desc || '';
        lbLink.href = item.dataset.link || '#';

        renderTechBadgesFromData(item.dataset.tech || '');

        lbSlides.innerHTML = '';
        lbSlidesArr = [];

        // create track
        lbTrack = document.createElement('div');
        lbTrack.className = 'lb-track';
        slidesToUse.forEach((s, idx) => {
          const el = createSlide(s, idx);
          lbTrack.appendChild(el);
          lbSlidesArr.push(el);
        });
        lbSlides.appendChild(lbTrack);

        // go to first slide instantly to avoid flicker
        showLbSlide(0, true);

        lightbox.classList.add('open'); lightbox.setAttribute('aria-hidden','false'); document.body.style.overflow = 'hidden';
        if(lbClose && typeof lbClose.focus === 'function') lbClose.focus();
      }

      function closeLB(){
        lightbox.classList.remove('open'); lightbox.setAttribute('aria-hidden','true'); document.body.style.overflow = '';
        lbSlides.innerHTML = ''; lbSlidesArr = []; lbTrack = null;
        if(lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
      }

      // attach open handlers
      items.forEach((it, idx) => {
        it.addEventListener('click', (ev) => { ev.preventDefault(); openAt(idx); });
        it.addEventListener('keydown', (ev) => { if(ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); openAt(idx); }} );
      });

      if(lbClose) lbClose.addEventListener('click', closeLB);
      if(lbPrev) lbPrev.addEventListener('click', () => { lbPrevFn(); });
      if(lbNext) lbNext.addEventListener('click', () => { lbNextFn(); });

      // click outside content closes (lightbox background)
      lightbox.addEventListener('click', (e) => { if(e.target === lightbox) closeLB(); });

      document.addEventListener('keydown', (e) => {
        if(lightbox.classList.contains('open')){
          if(e.key === 'Escape') closeLB();
          if(e.key === 'ArrowRight') { lbNextFn(); }
          if(e.key === 'ArrowLeft') { lbPrevFn(); }
        }
      });

      // ------------ SEARCH / FILTER: efficient + highlight ------------
      function escapeRegExp(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      }

      function highlightText(node, tokens){
        let txt = node.textContent || '';
        if(!tokens.length){ node.innerHTML = txt; return; }
        const parts = tokens.map(t => escapeRegExp(t));
        const re = new RegExp('(' + parts.join('|') + ')', 'ig');
        node.innerHTML = txt.replace(re, (m) => `<span class="hl">${m}</span>`);
      }

      function updateResultCount(){
        const total = items.length;
        const visible = items.filter(it => it.style.display !== 'none').length;
        if(resultCount) resultCount.textContent = ` ${visible} of ${total}`;
      }

      function resetHighlights(){
        items.forEach(it => {
          const capTitle = it.querySelector('.folio-caption .title');
          if(capTitle) capTitle.innerHTML = capTitle.textContent || '';
        });
      }

      function resetFilterRespectExpanded(){
        if(grid.classList.contains('expanded')){
          items.forEach(it => it.style.display = 'block');
        } else {
          items.forEach((it, idx) => it.style.display = (idx < 6 ? 'block' : 'none'));
        }
        noResults.style.display = 'none';
        showMoreBtn.style.display = items.length > 6 ? 'inline-block' : 'none';
        resetHighlights();
        updateResultCount();
      }

      function applySearch(q){
        q = q.trim().toLowerCase();
        if(!q){
          resetFilterRespectExpanded();
          return;
        }
        showMoreBtn.style.display = 'none';
        let any = false;
        const tokens = q.split(/\s+/).filter(Boolean);
        items.forEach(it => {
          const title = (it.dataset.title || '').toLowerCase();
          const desc = (it.dataset.desc || '').toLowerCase();
          const tech = (it.dataset.tech || '').toLowerCase();
          const match = tokens.every(tok => title.includes(tok) || desc.includes(tok) || tech.includes(tok));
          it.style.display = match ? 'block' : 'none';
          if(match) {
            any = true;
            const capTitle = it.querySelector('.folio-caption .title');
            if(capTitle) highlightText(capTitle, tokens);
          } else {
            const capTitle = it.querySelector('.folio-caption .title');
            if(capTitle) capTitle.innerHTML = capTitle.textContent || '';
          }
        });
        noResults.style.display = any ? 'none' : 'block';
        updateResultCount();
      }

      let searchTO = null;
      if(searchInput){
        searchInput.addEventListener('input', (e) => {
          clearTimeout(searchTO);
          searchTO = setTimeout(() => {
            applySearch(searchInput.value || '');
          }, 140);
        });
        searchInput.addEventListener('keydown', (e) => {
          if(e.key === 'Escape'){ searchInput.value = ''; applySearch(''); }
        });
      }

      if(searchClear) {
        searchClear.addEventListener('click', () => {
          if(searchInput) searchInput.value = '';
          applySearch('');
          if(searchInput) searchInput.focus();
        });
      }

      // Show more toggle: expands to show all hidden items; collapse back to six
      showMoreBtn.addEventListener('click', () => {
        if(grid.classList.contains('expanded')){
          grid.classList.remove('expanded');
          resetFilterRespectExpanded();
          showMoreBtn.textContent = 'Show more';
        } else {
          grid.classList.add('expanded');
          items.forEach(it => it.style.display = 'block'); // show all
          showMoreBtn.textContent = 'Show less';
        }
        updateResultCount();
      });

      // initialize
      resetFilterRespectExpanded();

      // preload first image for each card to reduce flicker
      items.forEach(it => {
        const first = (it.dataset.images || '').split(',').map(s=>s.trim()).filter(Boolean)[0];
        if(first){ const img = new Image(); img.src = first; }
      });

      // ensure page visibility pause (stop global thumbTimer when hidden)
      document.addEventListener('visibilitychange', () => {
        if(document.hidden){
          if(thumbTimer){ clearInterval(thumbTimer); thumbTimer = null; }
        } else {
          if(!thumbTimer) thumbTimer = setInterval(thumbTick, THUMB_INTERVAL);
        }
      });

      // update initial result count
      updateResultCount();

    })();
  </script>
</section>
<!-- ===== end WORKS ===== -->









<!-- =========================
     #contact
========================= -->
<section id="contact" class="contact-section" aria-labelledby="contact-heading">
  <div class="contact-container">

    <!-- Heading -->
    <h1 id="contact-heading">Contact Me</h1>
    <div class="divider" aria-hidden="true"></div>

    <p class="contact-text">
      Let's connect! Reach out via my social profiles below or view my resume.
    </p>

    <!-- Social Icons (below paragraph) -->
    <div class="socials" role="list">
      <!-- Email anchor -->
      <a href="#"
         id="email-link"
         title="Email"
         onclick="openGmailCompose(event)"
         role="listitem"
         class="social-link">
        <i class="fa-solid fa-envelope" aria-hidden="true"></i>
        <span class="sr-only">Email</span>
      </a>

      <a href="https://github.com/Abhinand2502" target="_blank" rel="noopener noreferrer" title="GitHub" class="social-link" role="listitem">
        <i class="fa-brands fa-github" aria-hidden="true"></i>
        <span class="sr-only">GitHub</span>
      </a>

      <a href="https://linkedin.com/in/abhinand-babu-153b66324" target="_blank" rel="noopener noreferrer" title="LinkedIn" class="social-link" role="listitem">
        <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
        <span class="sr-only">LinkedIn</span>
      </a>

      <a href="https://instagram.com/_abhinand_babu" target="_blank" rel="noopener noreferrer" title="Instagram" class="social-link" role="listitem">
        <i class="fa-brands fa-instagram" aria-hidden="true"></i>
        <span class="sr-only">Instagram</span>
      </a>
    </div>

    <!-- Landscape Layout -->
    <div class="contact-grid">

      <!-- CV Block -->
      <div class="cv-box" aria-describedby="resume-note">
        <h3>My Resume</h3>
        <p id="resume-note" class="resume-note">View or download my resume.</p>

        <div class="resume-btns">
          <button type="button" class="btn-primary" id="view-resume-btn" aria-haspopup="dialog" aria-controls="resume-modal">
            <i class="fa-solid fa-eye" aria-hidden="true"></i> View Resume
          </button>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Modal / Lightbox (hidden by default) -->
<div id="resume-modal" class="resume-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="resume-modal-title">
  <div class="resume-modal-inner" role="document">
    <header class="modal-header">
      <h2 id="resume-modal-title">Resume — Abhinand Babu</h2>

      <div class="modal-actions">
        <!-- Keep Download / Open linking to the PDF if you want to still provide a PDF -->
        <a id="modal-download" class="modal-btn modal-download" href="assets/Resume.pdf" download title="Download Resume (PDF)">
          <i class="fa-solid fa-file-arrow-down" aria-hidden="true"></i>
          <span class="modal-btn-text">Download</span>
        </a>

        <a id="modal-open" class="modal-btn modal-open" href="assets/Resume.pdf" target="_blank" rel="noopener noreferrer" title="Open Resume (PDF)">
          <i class="fa-solid fa-up-right-from-square" aria-hidden="true"></i>
          <span class="modal-btn-text">Open</span>
        </a>

        <button id="close-resume-btn" class="modal-close" aria-label="Close resume viewer">&times;</button>
      </div>
    </header>

    <div class="modal-body">
      <div class="iframe-wrap" id="iframe-wrap">
        <div id="pdf-loading" class="pdf-loading" role="status" aria-live="polite">
          <div class="spinner" aria-hidden="true"></div>
          Loading resume...
        </div>

        <!-- IMAGE (lazy-loaded) placed inside the lightbox -->
        <img id="resume-image"
             data-src="assets/resume.jpg"
             alt="Resume preview — Abhinand Babu"
             style="visibility:hidden; display:block; margin:auto;" />

      </div>

      <div id="pdf-fallback" class="pdf-fallback" aria-hidden="false">
        If the resume doesn't display, <a id="fallback-link" href="assets/Resume.pdf" target="_blank" rel="noopener noreferrer">open it in a new tab</a> or use the Download button above.
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer id="site-footer">
  © <span id="yr"></span> Abhinand Babu
</footer>

<!-- ========== FIXED CSS ========== -->
<style>
  :root {
    --neon: #2a33e1;
    --neon-glow: rgba(42,51,225,0.85);
    --container-max: 1350px;
    --card-shadow: 0 10px 30px rgba(2,6,23,0.45);
    --card-radius: 14px;
    --text-dark: #111;
    --text-light: #fff;

    /* border colors */
    --border-light: #000; /* black */
    --border-dark:  #fff; /* white */
  }

  /* Basic page */
  html,body {
    height:100%; margin:0;
  }
  body {
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* contact section wrapper */
  .contact-section {
    padding: 36px 20px;
    display:flex;
    justify-content:center;
    align-items:center;
    background: linear-gradient(135deg, #0f172a, #111827);
  }

  /* Main card */
  .contact-container {
    max-width: var(--container-max);
    width: 89%;
    min-height: calc(340px + 1cm);
    border-radius: var(--card-radius);
    padding: 36px 48px;
    text-align: center;
    border: 2px solid transparent; /* overridden below */
    transition: all 0.22s ease;
    box-sizing: border-box;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    box-shadow: var(--card-shadow);
    display:flex;
    flex-direction:column;
    justify-content:center;
    gap:12px;
    color: inherit;
  }

  /* remove default link/button decorations */
  .contact-container a, .contact-container button {
    text-decoration:none; outline:none;
  }

  /* LIGHT MODE */
  body.light .contact-section {
    background: linear-gradient(180deg,#f7f8fb,#ffffff);
  }
  body.light .contact-container {
    border: 2px solid var(--border-light);
    background: #fff;
    box-shadow: 0 12px 40px rgba(12,12,24,0.06);
    color: var(--text-dark);
  }
  body.light .socials {
    background: rgba(0,0,0,0.04);
    border: 2px solid var(--border-light);
  }
  body.light .cv-box {
    border: 2px solid var(--border-light);
  }
  body.light .social-link {
    border: 2px solid var(--border-light);
  }
  body.light #site-footer {
    color: var(--text-dark);
    background: transparent;
    text-align:center;
    padding:14px 8px;
    font-weight:700;
  }

  /* DARK MODE */
  body.dark .contact-section {
    background: linear-gradient(135deg,#0f172a,#0b1220);
  }
  body.dark .contact-container {
    border: 2px solid var(--border-dark);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0));
    box-shadow: 0 18px 60px rgba(2,6,23,0.6);
    color: var(--text-light);
  }
  body.dark .socials {
    background: rgba(255,255,255,0.03);
    border: 2px solid var(--border-dark);
  }
  body.dark .cv-box {
    border: 2px solid var(--border-dark);
  }
  body.dark .social-link {
    border: 2px solid var(--border-dark);
  }
  body.dark #site-footer {
    color: var(--text-light);
    background: transparent;
    text-align:center;
    padding:14px 8px;
    font-weight:700;
  }

  /* Heading + divider + intro */
  .contact-container h1 {
    font-size:2.1rem;
    margin:0 0 6px;
    font-weight:700;
  }
  .divider {
    width:84px;
    height:3px;
    background:var(--neon);
    margin:10px auto 18px;
    border-radius:3px;
    box-shadow:0 0 12px var(--neon-glow);
  }
  .contact-text {
    font-size:1.02rem;
    margin-bottom:18px;
    max-width:840px;
    margin-left:auto;
    margin-right:auto;
    color:inherit;
  }

  /* socials */
  .socials {
    display:flex;
    justify-content:center;
    align-items:center;
    gap:20px;
    margin-bottom:22px;
    flex-wrap:wrap;
    padding:10px;
    border-radius:14px;
    background: transparent;
    border: 2px solid transparent; /* overridden per mode */
  }

  .social-link {
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width:84px;
    height:84px;
    border-radius:14px;
    font-size:2.2rem;
    color:var(--neon);
    background: linear-gradient(180deg, rgba(42,51,225,0.06), rgba(42,51,225,0.02));
    box-shadow: 0 12px 30px rgba(2,6,23,0.18);
    transition: transform .22s, box-shadow .22s, color .22s, background .22s;
    border: 2px solid transparent; /* overridden per mode */
  }

  .social-link i { pointer-events: none; }

  .social-link:hover {
    transform: translateY(-8px) scale(1.06);
    box-shadow: 0 20px 44px rgba(42,51,225,0.16);
    color: #00bfff;
  }

  .sr-only {
    position:absolute; left:-9999px; top:auto;
    width:1px; height:1px; overflow:hidden;
  }

  /* grid & cv box */
  .contact-grid {
    display:flex;
    justify-content:center;
    gap:24px;
    align-items:stretch;
    margin-top:4px;
  }
  .cv-box {
    max-width:520px;
    width:100%;
    min-height:220px;
    padding:26px 28px;
    border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.01));
    box-shadow: 0 8px 26px rgba(2,6,23,0.28);
    text-align:center;
    display:flex;
    flex-direction:column;
    justify-content:center;
    gap:12px;
    color:inherit;
    border: 2px solid transparent; /* overridden per mode */
  }
  .cv-box h3 { margin:0 0 4px; font-size:1.2rem; }



  /* resume-note color per mode */
  .resume-note { margin:0; font-size:0.98rem; }
  body.light .resume-note { color: rgba(0,0,0,0.65); }
  body.dark  .resume-note { color: rgba(255,255,255,0.78); }

  /* buttons */
  .resume-btns{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; margin-top:6px; }
  .btn-primary, .btn-outline, .modal-btn{ padding:10px 18px; border-radius:36px; font-weight:700; border:0; cursor:pointer; display:inline-flex; align-items:center; gap:8px; text-decoration:none; }
  .btn-primary{ background:var(--neon); color:#fff; box-shadow:0 8px 26px rgba(42,51,225,0.22); }
  .btn-primary:hover{ background:#00bfff; box-shadow:0 12px 34px rgba(0,191,255,0.18); }

  /* modal */
  .resume-modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,0.66); z-index:1300; padding:18px; }
  .resume-modal[aria-hidden="false"]{ display:flex; }
  .resume-modal-inner{ width:100%; max-width:1100px; height:84vh; background:#fff; border-radius:12px; overflow:hidden; display:flex; flex-direction:column; box-shadow:0 28px 80px rgba(2,6,23,0.5); color:inherit; }
  body.dark .resume-modal-inner{ background:#0b0b10; color:var(--text-light); }
  .modal-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; border-bottom:1px solid rgba(0,0,0,0.06); background:linear-gradient(90deg, rgba(42,51,225,0.02), rgba(42,51,225,0.01)); }
  body.dark .modal-header{ border-bottom:1px solid rgba(255,255,255,0.04); }
  .modal-header h2{ margin:0; font-size:1rem; font-weight:700; }
  .modal-actions{ display:flex; gap:8px; align-items:center; }
  .modal-download{ background:var(--neon); color:#fff; border-radius:8px; padding:8px 12px; display:inline-flex; align-items:center; gap:8px; text-decoration:none; font-weight:700; }
  .modal-open{ background:transparent; color:var(--neon); border-radius:8px; padding:8px 10px; display:inline-flex; align-items:center; gap:8px; font-weight:700; text-decoration:none; border:2px solid rgba(42,51,225,0.12); }
  .modal-close{ background:transparent; border:0; font-size:1.6rem; cursor:pointer; color:inherit; padding:6px 8px; line-height:1; }

  .modal-body{ flex:1 1 auto; position:relative; display:flex; flex-direction:column; background: #fff; color:inherit; }
  body.dark .modal-body{ background:#0b0b10; color:var(--text-light); }

  /* ensure iframe-wrap centers image and provides padding so image doesn't touch edges */
  .iframe-wrap{ flex:1 1 auto; position:relative; display:flex; min-height:120px; align-items:center; justify-content:center; padding:6px 12px; box-sizing:border-box; overflow:hidden; }

  /* loading + spinner */
  .pdf-loading{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); display:flex; gap:10px; align-items:center; color:rgba(0,0,0,0.6); font-weight:700; z-index:5; }
  body.dark .pdf-loading{ color:rgba(255,255,255,0.85); }
  .spinner{ width:18px; height:18px; border-radius:50%; border:3px solid rgba(0,0,0,0.12); border-top-color:var(--neon); animation:spin 1s linear infinite; }
  @keyframes spin{ to{ transform:rotate(360deg); } }

  .pdf-fallback{ padding:12px 16px; text-align:center; background:rgba(0,0,0,0.03); font-weight:600; }
  body.dark .pdf-fallback{ background:transparent; color:#ddd; }

  /* ------------ RESUME IMAGE: make it fill more (i.e. zoomed-in appearance) ------------- */
  /* Approach: set width to a large percentage of viewport/modal so screenshot scales UP and fills modal more.
     Keep object-fit: contain and max-height to avoid overflow.
  */
  #resume-image {
    display:block;
    width: 92vw;                         /* large width so mobile screenshot scales up */
    max-width: 1100px;                   /* cap on very large screens */
    height: auto;
    max-height: calc(100vh - 120px);     /* keep below viewport height (header + gaps) */
    object-fit: contain;
    image-rendering: auto;
    visibility: visible; /* toggled by JS during load */
    transition: transform .18s ease, filter .18s ease;
    transform-origin: center center;
    /* slight sharpen to offset scaling blur on small screenshots */
    filter: contrast(1.02) saturate(1.02);
  }

  /* Desktop/laptop: be a bit wider for zoomed look */
  @media (min-width: 1024px) {
    #resume-image {
      width: 80vw;
      max-width: 1000px;
      max-height: calc(90vh - 80px);
      filter: contrast(1.03) saturate(1.02);
    }
  }

  /* Mobile small screens: maximize width to viewport (5" phones) */
  @media (max-width: 480px), (max-height: 720px) {
    #resume-image {
      width: calc(100vw - 12px);          /* almost full width */
      max-width: none;
      max-height: calc(100vh - 110px);    /* header + small safe gap */
      filter: contrast(1.03) saturate(1.04);
    }
  }

  /* Optional: small extra zoom on mobile to make screenshot appear larger */
  @media (max-width: 420px) {
    #resume-image { width: calc(100vw - 6px); }
  }

  /* footer */
  #site-footer { margin-top:18px; font-weight:700; font-size:0.98rem; text-align:center; }

  /* responsive adjustments */
  @media (max-width: 980px){
    .contact-container{ padding:24px 26px; min-height:calc(340px + 1cm); }
    .social-link{ width:76px; height:76px; font-size:2rem; }
    .cv-box{ min-height:200px; padding:22px; }
  }

  /* ------------ MOBILE: keep socials in one single row (no wrap) and center ---------- */
  @media (max-width:720px){
    .resume-modal-inner{ max-width:100%; height:100vh; border-radius:0; }
    .modal-header{ padding:12px; }
    .modal-actions .modal-btn-text{ display:none; }
    .social-link{ width:64px; height:64px; font-size:1.6rem; }

    /* Increase contact container height by ~1cm on mobile too */
    .contact-container{ padding:18px; width:96%; min-height:calc(420px + 1cm); }

    .contact-grid{ margin-top:6px; }

    .socials {
      flex-wrap: nowrap !important;         /* force single row */
      overflow-x: auto;                     /* allow horizontal scroll if needed */
      -webkit-overflow-scrolling: touch;
      gap: 14px;
      padding: 8px 6px;
      justify-content: center;              /* keep centered layout when possible */
    }
    .socials .social-link { flex: 0 0 auto; }

    /* subtle scrollbar styling for webkit */
    .socials::-webkit-scrollbar { height: 8px; }
    .socials::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 8px; }
  }
nnnn
/* ---- Force borders: include the small social buttons (.social-link) ----
   Place at the END of your stylesheet so it overrides previous border settings.
*/
body.light .contact-container,
body.light .cv-box,
body.light .resume-modal-inner,
body.light .iframe-wrap,
body.light .social-link {
  border: 2px solid #000 !important;   /* BLACK borders in light mode */
  background-clip: padding-box;
}

/* Dark mode: white borders */
body.dark .contact-container,
body.dark .cv-box,
body.dark .resume-modal-inner,
body.dark .iframe-wrap,
body.dark .social-link {
  border: 2px solid #fff !important;   /* WHITE borders in dark mode */
  background-clip: padding-box;
}

/* Fallback to OS theme if no body class */
@media (prefers-color-scheme: light) {
  .contact-container,
  .cv-box,
  .resume-modal-inner,
  .iframe-wrap,
  .social-link {
    border: 2px solid #000 !important;
    background-clip: padding-box;
  }
}
@media (prefers-color-scheme: dark) {
  .contact-container,
  .cv-box,
  .resume-modal-inner,
  .iframe-wrap,
  .social-link {
    border: 2px solid #fff !important;
    background-clip: padding-box;
  }
}

/* Keep same radius & smooth transitions for the small buttons */
.social-link {
  border-radius: 14px;          /* matches your button shape */
  transition: border-color .18s ease, transform .18s ease, box-shadow .18s ease;
  box-sizing: border-box;       /* ensure border doesn't alter the size */
}

/* Optional: slightly adjust hover so border remains visible */
.social-link:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 44px rgba(42,51,225,0.16);
}


  
</style>

<!-- ========== SCRIPTS (unchanged) ========== -->
<script>
  // Update year
  (function(){ const yrEl = document.getElementById("yr"); if(yrEl) yrEl.textContent = new Date().getFullYear(); })();

  /* Gmail compose helper */
  const CONTACT_EMAIL = 'abhinandbabu2502@gmail.com';
  const DEFAULT_SUBJECT = 'Hello — Inquiry from your portfolio';
  const DEFAULT_BODY = 'Hi Abhinand,\n\nI would like to connect regarding...';
  function encode(s){ return encodeURIComponent(s || ''); }

  function openGmailCompose(e){
    if(e) e.preventDefault();
    const to = encode(CONTACT_EMAIL);
    const subject = encode(DEFAULT_SUBJECT);
    const body = encode(DEFAULT_BODY);
    const webGmail = `https://mail.google.com/mail/?view=cm&fs=1&to=${to}&su=${subject}&body=${body}`;
    const gmailScheme = `googlegmail://co?to=${to}&subject=${subject}&body=${body}`;
    const androidIntent = `intent://compose?to=${to}&subject=${subject}&body=${body}#Intent;package=com.google.android.gm;scheme=mailto;end`;
    try { window.location.href = gmailScheme; } catch(e){}
    const fallbackTimer = setTimeout(()=>{
      const ua = navigator.userAgent || '';
      if(/android/i.test(ua)){ window.location.href = androidIntent; setTimeout(()=> { window.location.href = webGmail; }, 900); }
      else { window.location.href = webGmail; }
    }, 700);
    function onVis(){ if(document.hidden) clearTimeout(fallbackTimer); }
    document.addEventListener('visibilitychange', onVis, { once:true });
    setTimeout(()=> { clearTimeout(fallbackTimer); document.removeEventListener('visibilitychange', onVis); }, 3000);
  }

  /* Modal / IMAGE viewer logic (lazy-load image) */
  (function(){
    const modal = document.getElementById("resume-modal");
    const viewBtn = document.getElementById("view-resume-btn");
    const closeBtn = document.getElementById("close-resume-btn");
    const img = document.getElementById("resume-image");
    const loading = document.getElementById("pdf-loading");
    const fallbackLink = document.getElementById("fallback-link");

    if(!img) return;
    const imgPath = img.getAttribute('data-src') || 'assets/resume.jpg';
    const pdfPath = 'assets/Resume.pdf';

    // ensure download/open links point to PDF
    const modalDownload = document.getElementById('modal-download');
    const modalOpen = document.getElementById('modal-open');
    if(modalDownload) modalDownload.setAttribute('href', pdfPath);
    if(modalOpen) modalOpen.setAttribute('href', pdfPath);
    if(fallbackLink) fallbackLink.setAttribute('href', pdfPath);

    function showLoading(){ if(loading) loading.style.display = 'flex'; if(img) { img.style.visibility = 'hidden'; img.style.display = 'none'; } }
    function hideLoading(){ if(loading) loading.style.display = 'none'; if(img) { img.style.visibility = 'visible'; img.style.display = 'block'; } }

    function openModal(){
      if(!modal) return;
      modal.setAttribute('aria-hidden','false');
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
      // lazy-load image if not set
      if(!img.src || !img.src.includes(imgPath)){
        showLoading();
        img.src = imgPath;
      } else {
        hideLoading();
      }
      setTimeout(()=> closeBtn && closeBtn.focus(), 120);
    }

    function closeModal(){
      if(!modal) return;
      modal.setAttribute('aria-hidden','true');
      document.documentElement.style.overflow = '';
      document.body.style.overflow = '';
      viewBtn && viewBtn.focus();
      // keep img.src so reopen is instant
    }

    // image events
    img.addEventListener('load', function(){ hideLoading(); });
    img.addEventListener('error', function(){
      // hide image and show fallback after a short delay
      if(img){ img.style.display = 'none'; img.style.visibility = 'hidden'; }
      if(loading) loading.style.display = 'none';
      const pf = document.getElementById('pdf-fallback');
      if(pf) pf.style.display = 'block';
    });

    // open/close bindings
    if(viewBtn) viewBtn.addEventListener('click', function(){
      openModal();
      // fallback if image not loaded in 4s
      setTimeout(()=> {
        if(loading && loading.style.display !== 'none'){
          loading.style.display = 'none';
          const pf = document.getElementById('pdf-fallback');
          if(pf) pf.style.display = 'block';
        }
      }, 4000);
    });

    closeBtn && closeBtn.addEventListener('click', closeModal);
    modal && modal.addEventListener('click', function(e){ if(e.target === modal) closeModal(); });
    document.addEventListener('keydown', function(e){ if(e.key === 'Escape' && modal && modal.getAttribute('aria-hidden') === 'false') closeModal(); });

    // hide fallback initially
    const pf = document.getElementById('pdf-fallback');
    if(pf) pf.style.display = 'none';
    // hide loading initially
    if(loading) loading.style.display = 'none';
  })();
</script>



  <script>
    // THEME init & toggle
    const themeBtn = document.getElementById('themeBtn');
    const themeIco = document.getElementById('themeIco');
    function setTheme(theme){
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('site-theme', theme);
      themeIco.className = theme === 'dark' ? 'fa-solid fa-moon' : 'fa-solid fa-sun';
      themeBtn.setAttribute('aria-pressed', theme === 'dark');
    }
    (function(){
      const stored = localStorage.getItem('site-theme');
      if(stored==='dark' || stored==='light'){ setTheme(stored); }
      else {
        const prefers = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        setTheme(prefers ? 'dark' : 'light');
      }
    })();
    themeBtn.addEventListener('click', ()=>{ const current = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'; setTheme(current==='dark' ? 'light' : 'dark'); });

    // Mobile nav toggle (hamburger)
    const menuBtn = document.getElementById('menuBtn');
    const mainNav = document.getElementById('mainNav');
    const menuIco = document.getElementById('menuIco');
    function toggleNav(open){
      const isOpen = typeof open === 'boolean' ? open : !mainNav.classList.contains('open');
      mainNav.classList.toggle('open', isOpen);
      menuBtn.setAttribute('aria-expanded', isOpen);
      menuIco.className = isOpen ? 'fa-solid fa-xmark' : 'fa-solid fa-bars';
    }
    menuBtn.addEventListener('click', ()=> toggleNav());

    // Close nav when clicking a link (mobile friendly)
    mainNav.querySelectorAll('a[href^="#"]').forEach(a=> a.addEventListener('click', ()=>{ if(window.innerWidth <= 980) toggleNav(false); }));

    // Animations (IntersectionObserver) for reveal
    (function(){
      const animItems = document.querySelectorAll('.anim');
      if('IntersectionObserver' in window){
        const obs = new IntersectionObserver((entries, observer)=>{
          entries.forEach(entry=>{
            if(entry.isIntersecting){
              entry.target.classList.add('in-view');
              observer.unobserve(entry.target);
            }
          });
        }, {threshold: 0.12});
        animItems.forEach(i => obs.observe(i));
      } else {
        animItems.forEach(i => i.classList.add('in-view'));
      }
    })();

    // HERO image loader using <img> tag for reliability
    (function(){
      const heroImg = document.getElementById('heroImgTag');
      const placeholder = document.getElementById('heroPlaceholder');
      const candidate = [
        '/static/images/bg.jpg',
        '/images/bg.jpg',
        '/assets/bg.jpg',
        'images/bg.jpg',
        'assets/bg.jpg',
        'images/bg.jpeg',
        'assets/bg.jpeg',
        'images/bg.png',
        'assets/bg.png'
      ];

      function test(p){ return new Promise((res,rej)=>{ const img = new Image(); img.onload = ()=> res(p); img.onerror = ()=> rej(p); img.src = p + '?v=' + Date.now(); }); }

      (async()=>{
        for(const p of candidate){
          try{
            const ok = await test(p);
            heroImg.src = ok;
            heroImg.style.display = 'block';
            placeholder.style.display = 'none';
            return;
          } catch(e){ /* try next */ }
        }
        placeholder.style.display = 'block';
        heroImg.style.display = 'none';
        console.warn('No hero image loaded — check candidate paths in the JS (developer: update to your static folder path).');
      })();
    })();

    // SmoothSnapTo (requestAnimationFrame easing) used only for nav anchors & hero buttons
    function easeInOutCubic(t){
      return t < 0.5
        ? 4 * t * t * t
        : 1 - Math.pow(-2 * t + 2, 3) / 2;
    }

    function smoothSnapTo(el, duration = 700){
      return new Promise((resolve) => {
        if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
          el.scrollIntoView();
          resolve();
          return;
        }
        const start = window.scrollY || window.pageYOffset;
        const target = Math.max(el.offsetTop, 0);
        const distance = target - start;
        const startTime = performance.now();

        function frame(now) {
          const elapsed = now - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const eased = easeInOutCubic(progress);
          window.scrollTo(0, Math.round(start + distance * eased));
          if (progress < 1) {
            requestAnimationFrame(frame);
          } else {
            resolve();
          }
        }
        requestAnimationFrame(frame);
      });
    }

    // Buttons -> anchor behavior (scroll to sections) using smoothSnapTo
    const moreBtn = document.getElementById('moreBtn');
    const contactBtn = document.getElementById('contactBtn');

    if(moreBtn){
      moreBtn.addEventListener('click', async ()=> {
        const el = document.getElementById('about');
        if(el){
          const prev = document.body.style.pointerEvents;
          document.body.style.pointerEvents = 'none';
          await smoothSnapTo(el);
          document.body.style.pointerEvents = prev;
        }
      });
    }
    if(contactBtn){
      contactBtn.addEventListener('click', async ()=> {
        const el = document.getElementById('contact');
        if(el){
          const prev = document.body.style.pointerEvents;
          document.body.style.pointerEvents = 'none';
          await smoothSnapTo(el);
          document.body.style.pointerEvents = prev;
        }
      });
    }

    // Smooth anchors for nav links
    document.querySelectorAll('a[href^="#"]').forEach(a=>{ a.addEventListener('click', async ev=>{ const href = a.getAttribute('href'); const el = document.querySelector(href); if(el){ ev.preventDefault(); if(window.innerWidth <= 980 && mainNav.classList.contains('open')) toggleNav(false); const prev = document.body.style.pointerEvents; document.body.style.pointerEvents = 'none'; await smoothSnapTo(el); document.body.style.pointerEvents = prev; } }); });

    // Active nav link highlighting based on sections in view
    (function(){
      const sections = document.querySelectorAll('section[id]');
      const navLinks = Array.from(document.querySelectorAll('#mainNav a'));
      if('IntersectionObserver' in window){
        const obs = new IntersectionObserver((entries)=>{
          entries.forEach(entry=>{
            if(entry.isIntersecting){
              const id = entry.target.id;
              navLinks.forEach(a=>{
                const href = a.getAttribute('href').replace('#','');
                if(href === id) a.classList.add('active'); else a.classList.remove('active');
              });
            }
          });
        }, {threshold: 0.45});
        sections.forEach(s => obs.observe(s));
        setTimeout(()=>{
          const visible = Array.from(sections).find(s=>{
            const r = s.getBoundingClientRect();
            return r.top <= window.innerHeight*0.5 && r.bottom >= window.innerHeight*0.2;
          });
          if(visible){
            navLinks.forEach(a=> a.classList.remove('active'));
            const link = document.querySelector(`#mainNav a[href="#${visible.id}"]`);
            if(link) link.classList.add('active');
          }
        },120);
      } else {
        function onScroll(){
          let current = sections[0];
          sections.forEach(s=>{
            const r = s.getBoundingClientRect();
            if(r.top <= window.innerHeight*0.35 && r.bottom >= window.innerHeight*0.15) current = s;
          });
          navLinks.forEach(a=> a.classList.remove('active'));
          const link = document.querySelector(`#mainNav a[href="#${current.id}"]`);
          if(link) link.classList.add('active');
        }
        window.addEventListener('scroll', onScroll, {passive:true});
        onScroll();
      }
    })();

    // Subtle parallax for hero image (disabled if prefers-reduced-motion)
    (function(){
      const heroSection = document.getElementById('heroSection');
      const heroImg = document.getElementById('heroImgTag');
      if(!heroSection || !heroImg) return;
      if(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

      let ticking = false;
      function onScroll(){
        if(ticking) return;
        ticking = true;
        requestAnimationFrame(()=>{
          const rect = heroSection.getBoundingClientRect();
          if(rect.bottom > 0 && rect.top < window.innerHeight){
            const progress = Math.min(Math.max((window.innerHeight - rect.top) / (window.innerHeight + rect.height), 0), 1);
            const maxShift = 18;
            const shift = (progress - 0.5) * 2 * maxShift * 0.25;
            heroImg.style.transform = `translateY(${shift}px)`;
          } else {
            heroImg.style.transform = 'translateY(0)';
          }
          ticking = false;
        });
      }

      window.addEventListener('scroll', onScroll, {passive: true});
      window.addEventListener('resize', onScroll);
      onScroll();
    })();
  </script>
</body>
</html>
